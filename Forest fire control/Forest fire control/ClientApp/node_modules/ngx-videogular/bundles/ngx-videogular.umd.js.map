{"version":3,"file":"ngx-videogular.umd.js","sources":["../../../node_modules/tslib/tslib.es6.js","ng://ngx-videogular/lib/core/states/vg-states.ts","ng://ngx-videogular/lib/core/services/vg-api.ts","ng://ngx-videogular/lib/buffering/vg-buffering.ts","ng://ngx-videogular/lib/buffering/vg-buffering.module.ts","ng://ngx-videogular/lib/core/services/vg-controls-hidden.ts","ng://ngx-videogular/lib/controls/vg-controls.ts","ng://ngx-videogular/lib/core/services/vg-utils.ts","ng://ngx-videogular/lib/core/services/vg-fullscreen-api.ts","ng://ngx-videogular/lib/controls/vg-fullscreen/vg-fullscreen.ts","ng://ngx-videogular/lib/controls/vg-mute/vg-mute.ts","ng://ngx-videogular/lib/controls/vg-volume/vg-volume.ts","ng://ngx-videogular/lib/controls/vg-play-pause/vg-play-pause.ts","ng://ngx-videogular/lib/controls/vg-playback-button/vg-playback-button.ts","ng://ngx-videogular/lib/controls/vg-scrub-bar/vg-scrub-bar.ts","ng://ngx-videogular/lib/controls/vg-scrub-bar/vg-scrub-bar-buffering-time/vg-scrub-bar-buffering-time.ts","ng://ngx-videogular/lib/controls/vg-scrub-bar/vg-scrub-bar-cue-points/vg-scrub-bar-cue-points.ts","ng://ngx-videogular/lib/controls/vg-scrub-bar/vg-scrub-bar-current-time/vg-scrub-bar-current-time.ts","ng://ngx-videogular/lib/controls/vg-time-display/vg-time-display.ts","ng://ngx-videogular/lib/controls/vg-track-selector/vg-track-selector.ts","ng://ngx-videogular/lib/controls/vg-quality-selector/vg-quality-selector.ts","ng://ngx-videogular/lib/controls/vg-controls.module.ts","ng://ngx-videogular/lib/core/events/vg-events.ts","ng://ngx-videogular/lib/core/vg-media/vg-media.ts","ng://ngx-videogular/lib/core/vg-cue-points/vg-cue-points.ts","ng://ngx-videogular/lib/core/vg-player/vg-player.ts","ng://ngx-videogular/lib/core/vg-media/i-media-element.ts","ng://ngx-videogular/lib/core/vg-media/i-playable.ts","ng://ngx-videogular/lib/core/vg-media/vg-media-element.ts","ng://ngx-videogular/lib/core/vg-core.module.ts","ng://ngx-videogular/lib/ima-ads/vg-ima-ads.ts","ng://ngx-videogular/lib/ima-ads/ima-ads.module.ts","ng://ngx-videogular/lib/overlay-play/vg-overlay-play.ts","ng://ngx-videogular/lib/overlay-play/vg-overlay-play.module.ts","ng://ngx-videogular/lib/streaming/vg-dash/vg-dash.ts","ng://ngx-videogular/lib/streaming/vg-hls/vg-hls.ts","ng://ngx-videogular/lib/streaming/vg-streaming.module.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class VgStates {\n  static VG_ENDED = 'ended';\n  static VG_PAUSED = 'paused';\n  static VG_PLAYING = 'playing';\n  static VG_LOADING = 'waiting';\n}\n","import { Injectable, EventEmitter } from '@angular/core';\nimport { IPlayable } from '../vg-media/i-playable';\nimport { VgStates } from '../states/vg-states';\nimport { VgFullscreenAPI } from './vg-fullscreen-api';\n\n@Injectable()\nexport class VgAPI {\n  // tslint:disable-next-line:ban-types\n  medias: Object = {}; // TODO: refactor to Set<IPlayable>\n  videogularElement: any;\n  playerReadyEvent: EventEmitter<any> = new EventEmitter(true);\n  isPlayerReady = false;\n  fsAPI: VgFullscreenAPI;\n\n  constructor() {\n\n  }\n\n  onPlayerReady(fsAPI: VgFullscreenAPI) {\n    this.fsAPI = fsAPI;\n    this.isPlayerReady = true;\n    this.playerReadyEvent.emit(this);\n  }\n\n  getDefaultMedia(): IPlayable {\n    for (const item in this.medias) {\n      if (this.medias[item]) {\n        return this.medias[item];\n      }\n    }\n  }\n\n  getMasterMedia(): IPlayable {\n    let master: any;\n    for (const id in this.medias) {\n      if (this.medias[id].vgMaster === 'true' || this.medias[id].vgMaster === true) {\n        master = this.medias[id];\n        break;\n      }\n    }\n    return master || this.getDefaultMedia();\n  }\n\n  isMasterDefined(): boolean {\n    let result = false;\n    for (const id in this.medias) {\n      if (this.medias[id].vgMaster === 'true' || this.medias[id].vgMaster === true) {\n        result = true;\n        break;\n      }\n    }\n    return result;\n  }\n\n  getMediaById(id: string = null): IPlayable {\n    let media = this.medias[id];\n\n    if (!id || id === '*') {\n      media = this;\n    }\n\n    return media;\n  }\n\n  play() {\n    for (const id in this.medias) {\n      if (this.medias[id]) {\n        this.medias[id].play();\n      }\n    }\n  }\n\n  pause() {\n    for (const id in this.medias) {\n      if (this.medias[id]) {\n        this.medias[id].pause();\n      }\n    }\n  }\n\n  get duration() {\n    return this.$$getAllProperties('duration');\n  }\n\n  set currentTime(seconds) {\n    this.$$setAllProperties('currentTime', seconds);\n  }\n\n  get currentTime() {\n    return this.$$getAllProperties('currentTime');\n  }\n\n  set state(state) {\n    this.$$setAllProperties('state', state);\n  }\n\n  get state() {\n    return this.$$getAllProperties('state');\n  }\n\n  set volume(volume) {\n    this.$$setAllProperties('volume', volume);\n  }\n\n  get volume() {\n    return this.$$getAllProperties('volume');\n  }\n\n  set playbackRate(rate) {\n    this.$$setAllProperties('playbackRate', rate);\n  }\n\n  get playbackRate() {\n    return this.$$getAllProperties('playbackRate');\n  }\n\n  get canPlay() {\n    return this.$$getAllProperties('canPlay');\n  }\n\n  get canPlayThrough() {\n    return this.$$getAllProperties('canPlayThrough');\n  }\n\n  get isMetadataLoaded() {\n    return this.$$getAllProperties('isMetadataLoaded');\n  }\n\n  get isWaiting() {\n    return this.$$getAllProperties('isWaiting');\n  }\n\n  get isCompleted() {\n    return this.$$getAllProperties('isCompleted');\n  }\n\n  get isLive() {\n    return this.$$getAllProperties('isLive');\n  }\n\n  get isMaster() {\n    return this.$$getAllProperties('isMaster');\n  }\n\n  get time() {\n    return this.$$getAllProperties('time');\n  }\n\n  get buffer() {\n    return this.$$getAllProperties('buffer');\n  }\n\n  get buffered() {\n    return this.$$getAllProperties('buffered');\n  }\n\n  get subscriptions() {\n    return this.$$getAllProperties('subscriptions');\n  }\n\n  get textTracks() {\n    return this.$$getAllProperties('textTracks');\n  }\n\n  seekTime(value: number, byPercent: boolean = false) {\n    for (const id in this.medias) {\n      if (this.medias[id]) {\n        this.$$seek(this.medias[id], value, byPercent);\n      }\n    }\n  }\n\n  $$seek(media: IPlayable, value: number, byPercent: boolean = false) {\n    let second: number;\n    let duration: number = media.duration;\n\n    if (byPercent) {\n      if (this.isMasterDefined()) {\n        duration = this.getMasterMedia().duration;\n      }\n\n      second = value * duration / 100;\n    } else {\n      second = value;\n    }\n\n    media.currentTime = second;\n  }\n\n  addTextTrack(type: string, label?: string, language?: string) {\n    for (const id in this.medias) {\n      if (this.medias[id]) {\n        this.$$addTextTrack(this.medias[id], type, label, language);\n      }\n    }\n  }\n  $$addTextTrack(media: IPlayable, type: string, label?: string, language?: string) {\n    media.addTextTrack(type, label, language);\n  }\n\n  $$getAllProperties(property: string) {\n    const medias = {};\n    let result: any;\n\n    for (const id in this.medias) {\n      if (this.medias[id]) {\n        medias[id] = this.medias[id];\n      }\n    }\n\n    const nMedias = Object.keys(medias).length;\n    switch (nMedias) {\n      case 0:\n        // Return default values until vgMedia is initialized\n        switch (property) {\n          case 'state':\n            result = VgStates.VG_PAUSED;\n            break;\n\n          case 'playbackRate':\n          case 'volume':\n            result = 1;\n            break;\n\n          case 'time':\n            result = { current: 0, total: 0, left: 0 };\n            break;\n        }\n        break;\n\n      case 1:\n        // If there's only one media element then return the plain value\n        const firstMediaId = Object.keys(medias)[0];\n        result = medias[firstMediaId][property];\n        break;\n\n      default:\n        // TODO: return 'master' value\n        const master = this.getMasterMedia();\n        result = medias[master.id][property];\n    }\n\n    return result;\n  }\n\n  $$setAllProperties(property: string, value: any) {\n    for (const id in this.medias) {\n      if (this.medias[id]) {\n        this.medias[id][property] = value;\n      }\n    }\n  }\n\n  registerElement(elem: HTMLElement) {\n    this.videogularElement = elem;\n  }\n\n  registerMedia(media: IPlayable) {\n    this.medias[media.id] = media;\n  }\n\n  unregisterMedia(media: IPlayable) {\n    delete this.medias[media.id];\n  }\n\n\n}\n","import { Component, ElementRef, HostBinding, Input, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\nimport { VgAPI } from '../core/services/vg-api';\nimport { IPlayable } from '../core/vg-media/i-playable';\nimport { Subscription } from 'rxjs';\n\n// tslint:disable:component-class-suffix\n@Component({\n  selector: 'vg-buffering',\n  encapsulation: ViewEncapsulation.None,\n  template: `<div class=\"vg-buffering\">\n            <div class=\"bufferingContainer\">\n                <div class=\"loadingSpinner\"></div>\n            </div>\n        </div>`,\n  styles: [`\n        vg-buffering {\n            display: none;\n            z-index: 201;\n        }\n        vg-buffering.is-buffering {\n            display: block;\n        }\n\n        .vg-buffering {\n            position: absolute;\n            display: block;\n            width: 100%;\n            height: 100%;\n        }\n        .vg-buffering .bufferingContainer {\n            width: 100%;\n            position: absolute;\n            cursor: pointer;\n            top: 50%;\n            margin-top: -50px;\n            zoom: 1;\n            filter: alpha(opacity=60);\n            opacity: 0.6;\n        }\n        /* Loading Spinner\n        * http://www.alessioatzeni.com/blog/css3-loading-animation-loop/\n        */\n        .vg-buffering .loadingSpinner {\n            background-color: rgba(0, 0, 0, 0);\n            border: 5px solid rgba(255, 255, 255, 1);\n            opacity: .9;\n            border-top: 5px solid rgba(0, 0, 0, 0);\n            border-left: 5px solid rgba(0, 0, 0, 0);\n            border-radius: 50px;\n            box-shadow: 0 0 35px #FFFFFF;\n            width: 50px;\n            height: 50px;\n            margin: 0 auto;\n            -moz-animation: spin .5s infinite linear;\n            -webkit-animation: spin .5s infinite linear;\n        }\n        .vg-buffering .loadingSpinner .stop {\n            -webkit-animation-play-state: paused;\n            -moz-animation-play-state: paused;\n        }\n        @-moz-keyframes spin {\n            0% {\n                -moz-transform: rotate(0deg);\n            }\n            100% {\n                -moz-transform: rotate(360deg);\n            }\n        }\n        @-moz-keyframes spinoff {\n            0% {\n                -moz-transform: rotate(0deg);\n            }\n            100% {\n                -moz-transform: rotate(-360deg);\n            }\n        }\n        @-webkit-keyframes spin {\n            0% {\n                -webkit-transform: rotate(0deg);\n            }\n            100% {\n                -webkit-transform: rotate(360deg);\n            }\n        }\n        @-webkit-keyframes spinoff {\n            0% {\n                -webkit-transform: rotate(0deg);\n            }\n            100% {\n                -webkit-transform: rotate(-360deg);\n            }\n        }\n    ` ]\n})\nexport class VgBuffering implements OnInit, OnDestroy {\n  @Input() vgFor: string;\n\n  elem: HTMLElement;\n  target: IPlayable;\n  checkInterval = 50;\n  currentPlayPos = 0;\n  lastPlayPos = 0;\n\n  subscriptions: Subscription[] = [];\n\n  @HostBinding('class.is-buffering') isBuffering = false;\n\n  constructor(ref: ElementRef, public API: VgAPI) {\n    this.elem = ref.nativeElement;\n  }\n\n  ngOnInit() {\n    if (this.API.isPlayerReady) {\n      this.onPlayerReady();\n    } else {\n      this.subscriptions.push(\n        this.API.playerReadyEvent.subscribe(() => this.onPlayerReady())\n      );\n    }\n  }\n\n  onPlayerReady() {\n    this.target = this.API.getMediaById(this.vgFor);\n\n    this.subscriptions.push(\n      this.target.subscriptions.bufferDetected.subscribe(\n        isBuffering => this.onUpdateBuffer(isBuffering)\n      )\n    );\n  }\n\n  onUpdateBuffer(isBuffering) {\n    this.isBuffering = isBuffering;\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(s => s.unsubscribe());\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { VgBuffering } from './vg-buffering';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [\n    VgBuffering\n  ],\n  exports: [\n    VgBuffering\n  ]\n})\nexport class VgBufferingModule {\n}\n","import { Injectable } from '@angular/core';\nimport { Subject, Observable } from 'rxjs';\n\n@Injectable()\nexport class VgControlsHidden {\n  isHidden: Observable<boolean>;\n\n  private isHiddenSubject: Subject<boolean> = new Subject<boolean>();\n\n  constructor() {\n    this.isHidden = this.isHiddenSubject.asObservable();\n  }\n\n  state(hidden: boolean) {\n    this.isHiddenSubject.next(hidden);\n  }\n}\n","import {\n  Component, Input, OnInit, ElementRef, HostBinding, AfterViewInit, ViewEncapsulation,\n  EventEmitter, Output, OnDestroy\n} from '@angular/core';\nimport { Observable, Subscription } from 'rxjs';\nimport { VgAPI } from '../core/services/vg-api';\nimport { VgControlsHidden } from '../core/services/vg-controls-hidden';\n\nimport { VgStates } from '../core/states/vg-states';\nimport { fromEvent } from 'rxjs';\n\n// tslint:disable:component-class-suffix\n@Component({\n  selector: 'vg-controls',\n  encapsulation: ViewEncapsulation.None,\n  template: `<ng-content></ng-content>`,\n  styles: [`\n        vg-controls {\n            position: absolute;\n            display: flex;\n            width: 100%;\n            height: 50px;\n            z-index: 300;\n            bottom: 0;\n            background-color: rgba(0, 0, 0, 0.5);\n            -webkit-transition: bottom 1s;\n            -khtml-transition: bottom 1s;\n            -moz-transition: bottom 1s;\n            -ms-transition: bottom 1s;\n            transition: bottom 1s;\n        }\n        vg-controls.hide {\n            bottom: -50px;\n        }\n    `]\n})\nexport class VgControls implements OnInit, AfterViewInit, OnDestroy {\n  elem: HTMLElement;\n  target: any;\n\n  @HostBinding('style.pointer-events') isAdsPlaying = 'initial';\n  @HostBinding('class.hide') hideControls = false;\n\n  @Input() vgFor: string;\n  @Input() vgAutohide = false;\n  @Input() vgAutohideTime = 3;\n\n  private timer: any;\n  private hideTimer: any;\n\n  mouseMove$: Observable<any>;\n  touchStart$: Observable<any>;\n\n  subscriptions: Subscription[] = [];\n\n  constructor(private API: VgAPI, private ref: ElementRef, private hidden: VgControlsHidden) {\n    this.elem = ref.nativeElement;\n  }\n\n  ngOnInit() {\n    this.mouseMove$ = fromEvent(this.API.videogularElement, 'mousemove');\n    this.subscriptions.push(this.mouseMove$.subscribe(this.show.bind(this)));\n\n    this.touchStart$ = fromEvent(this.API.videogularElement, 'touchstart');\n    this.subscriptions.push(this.touchStart$.subscribe(this.show.bind(this)));\n\n    if (this.API.isPlayerReady) {\n      this.onPlayerReady();\n    } else {\n      this.subscriptions.push(this.API.playerReadyEvent.subscribe(() => this.onPlayerReady()));\n    }\n  }\n\n  onPlayerReady() {\n    this.target = this.API.getMediaById(this.vgFor);\n\n    this.subscriptions.push(this.target.subscriptions.play.subscribe(this.onPlay.bind(this)));\n    this.subscriptions.push(this.target.subscriptions.pause.subscribe(this.onPause.bind(this)));\n    this.subscriptions.push(this.target.subscriptions.startAds.subscribe(this.onStartAds.bind(this)));\n    this.subscriptions.push(this.target.subscriptions.endAds.subscribe(this.onEndAds.bind(this)));\n  }\n\n  ngAfterViewInit() {\n    if (this.vgAutohide) {\n      this.hide();\n    } else {\n      this.show();\n    }\n  }\n\n  onPlay() {\n    if (this.vgAutohide) {\n      this.hide();\n    }\n  }\n\n  onPause() {\n    clearTimeout(this.timer);\n    this.hideControls = false;\n    this.hidden.state(false);\n  }\n\n  onStartAds() {\n    this.isAdsPlaying = 'none';\n  }\n\n  onEndAds() {\n    this.isAdsPlaying = 'initial';\n  }\n\n  hide() {\n    if (this.vgAutohide) {\n      clearTimeout(this.timer);\n      this.hideAsync();\n    }\n  }\n\n  show() {\n    clearTimeout(this.timer);\n    this.hideControls = false;\n    this.hidden.state(false);\n\n    if (this.vgAutohide) {\n      this.hideAsync();\n    }\n  }\n\n  private hideAsync() {\n    if (this.API.state === VgStates.VG_PLAYING) {\n      this.timer = setTimeout(() => {\n        this.hideControls = true;\n        this.hidden.state(true);\n      }, this.vgAutohideTime * 1000);\n    }\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(s => s.unsubscribe());\n  }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class VgUtils {\n  /**\n   * Inspired by Paul Irish\n   * https://gist.github.com/paulirish/211209\n   * @returns z-Index\n   */\n  static getZIndex(): number {\n    let zIndex = 1;\n    let elementZIndex: number;\n\n    const tags = document.getElementsByTagName('*');\n\n    for (let i = 0, l = tags.length; i < l; i++) {\n      elementZIndex = parseInt(window.getComputedStyle(tags[i])['z-index'], 10);\n\n      if (elementZIndex > zIndex) {\n        zIndex = elementZIndex + 1;\n      }\n    }\n\n    return zIndex;\n  }\n\n  // Very simple mobile detection, not 100% reliable\n  static isMobileDevice() {\n    return (typeof window.orientation !== 'undefined') || (navigator.userAgent.indexOf('IEMobile') !== -1);\n  }\n\n  static isiOSDevice() {\n    return (navigator.userAgent.match(/ip(hone|ad|od)/i) && !navigator.userAgent.match(/(iemobile)[\\/\\s]?([\\w\\.]*)/i));\n  }\n\n  static isCordova() {\n    return document.URL.indexOf('http://') === -1 && document.URL.indexOf('https://') === -1;\n  }\n}\n","import { EventEmitter, Injectable, QueryList } from '@angular/core';\nimport { VgUtils } from './vg-utils';\nimport { VgMedia } from '../vg-media/vg-media';\nimport { Subscription, fromEvent } from 'rxjs';\n\n@Injectable()\nexport class VgFullscreenAPI {\n  polyfill: any;\n  onchange: string;\n  onerror: string;\n  nativeFullscreen = true;\n  isFullscreen = false;\n  isAvailable: boolean;\n  videogularElement: HTMLElement;\n  medias: QueryList<VgMedia>;\n\n  fsChangeSubscription: Subscription;\n  onChangeFullscreen: EventEmitter<any> = new EventEmitter();\n\n  constructor() {\n  }\n\n  init(elem: HTMLElement, medias: QueryList<VgMedia>) {\n    this.videogularElement = elem;\n    this.medias = medias;\n\n    const APIs = {\n      w3: {\n        enabled: 'fullscreenEnabled',\n        element: 'fullscreenElement',\n        request: 'requestFullscreen',\n        exit: 'exitFullscreen',\n        onchange: 'fullscreenchange',\n        onerror: 'fullscreenerror'\n      },\n      newWebkit: {\n        enabled: 'webkitFullscreenEnabled',\n        element: 'webkitFullscreenElement',\n        request: 'webkitRequestFullscreen',\n        exit: 'webkitExitFullscreen',\n        onchange: 'webkitfullscreenchange',\n        onerror: 'webkitfullscreenerror'\n      },\n      oldWebkit: {\n        enabled: 'webkitIsFullScreen',\n        element: 'webkitCurrentFullScreenElement',\n        request: 'webkitRequestFullScreen',\n        exit: 'webkitCancelFullScreen',\n        onchange: 'webkitfullscreenchange',\n        onerror: 'webkitfullscreenerror'\n      },\n      moz: {\n        enabled: 'mozFullScreen',\n        element: 'mozFullScreenElement',\n        request: 'mozRequestFullScreen',\n        exit: 'mozCancelFullScreen',\n        onchange: 'mozfullscreenchange',\n        onerror: 'mozfullscreenerror'\n      },\n      ios: {\n        enabled: 'webkitFullscreenEnabled',\n        element: 'webkitFullscreenElement',\n        request: 'webkitEnterFullscreen',\n        exit: 'webkitExitFullscreen',\n        onchange: 'webkitendfullscreen', // Hack for iOS: webkitfullscreenchange it's not firing\n        onerror: 'webkitfullscreenerror'\n      },\n      ms: {\n        enabled: 'msFullscreenEnabled',\n        element: 'msFullscreenElement',\n        request: 'msRequestFullscreen',\n        exit: 'msExitFullscreen',\n        onchange: 'MSFullscreenChange',\n        onerror: 'MSFullscreenError'\n      }\n    };\n\n    for (const browser in APIs) {\n      if (APIs[browser].enabled in document) {\n        this.polyfill = APIs[browser];\n        break;\n      }\n    }\n\n    if (VgUtils.isiOSDevice()) {\n      this.polyfill = APIs.ios;\n    }\n\n    this.isAvailable = (this.polyfill != null);\n\n    if (this.polyfill == null) {\n      return;\n    }\n\n    let fsElemDispatcher;\n\n    switch (this.polyfill.onchange) {\n      // Mozilla dispatches the fullscreen change event from document, not the element\n      // See: https://bugzilla.mozilla.org/show_bug.cgi?id=724816#c3\n      case 'mozfullscreenchange':\n        fsElemDispatcher = document;\n        break;\n\n      // iOS dispatches the fullscreen change event from video element\n      case 'webkitendfullscreen':\n        fsElemDispatcher = this.medias.toArray()[0].elem;\n        break;\n\n      // HTML5 implementation dispatches the fullscreen change event from the element\n      default:\n        fsElemDispatcher = elem;\n    }\n\n    this.fsChangeSubscription = fromEvent(fsElemDispatcher, this.polyfill.onchange).subscribe(() => {\n      this.onFullscreenChange();\n    });\n  }\n\n  onFullscreenChange() {\n    this.isFullscreen = !!document[this.polyfill.element];\n    this.onChangeFullscreen.emit(this.isFullscreen);\n  }\n\n  toggleFullscreen(element: any = null) {\n    if (this.isFullscreen) {\n      this.exit();\n    }  else {\n      this.request(element);\n    }\n  }\n\n  request(elem: any) {\n    if (!elem) {\n      elem = this.videogularElement;\n    }\n\n    this.isFullscreen = true;\n    this.onChangeFullscreen.emit(true);\n\n    // Perform native full screen support\n    if (this.isAvailable && this.nativeFullscreen) {\n      // Fullscreen for mobile devices\n      if (VgUtils.isMobileDevice()) {\n        // We should make fullscreen the video object if it doesn't have native fullscreen support\n        // Fallback! We can't set vg-player on fullscreen, only video/audio objects\n        if ((!this.polyfill.enabled && elem === this.videogularElement) || VgUtils.isiOSDevice()) {\n          elem = this.medias.toArray()[0].elem;\n        }\n\n        this.enterElementInFullScreen(elem);\n      }  else {\n        this.enterElementInFullScreen(this.videogularElement);\n      }\n    }\n  }\n\n  enterElementInFullScreen(elem: any) {\n    elem[this.polyfill.request]();\n  }\n\n  exit() {\n    this.isFullscreen = false;\n    this.onChangeFullscreen.emit(false);\n\n    // Exit from native fullscreen\n    if (this.isAvailable && this.nativeFullscreen) {\n      document[this.polyfill.exit]();\n    }\n  }\n}\n","import { Component, ElementRef, HostListener, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\nimport { VgAPI } from '../../core/services/vg-api';\nimport { VgFullscreenAPI } from '../../core/services/vg-fullscreen-api';\nimport { Subscription } from 'rxjs';\n\n// tslint:disable:component-class-suffix\n// tslint:disable:ban-types\n@Component({\n  selector: 'vg-fullscreen',\n  encapsulation: ViewEncapsulation.None,\n  template: `\n        <div class=\"icon\"\n             [class.vg-icon-fullscreen]=\"!isFullscreen\"\n             [class.vg-icon-fullscreen_exit]=\"isFullscreen\"\n             tabindex=\"0\"\n             role=\"button\"\n             aria-label=\"fullscreen button\"\n             [attr.aria-valuetext]=\"ariaValue\">\n        </div>`,\n  styles: [`\n        vg-fullscreen {\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -khtml-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            display: flex;\n            justify-content: center;\n            height: 50px;\n            width: 50px;\n            cursor: pointer;\n            color: white;\n            line-height: 50px;\n        }\n\n        vg-fullscreen .icon {\n            pointer-events: none;\n        }\n    ` ]\n})\nexport class VgFullscreen implements OnInit, OnDestroy {\n  elem: HTMLElement;\n  vgFor: string;\n  target: Object;\n  isFullscreen = false;\n\n  subscriptions: Subscription[] = [];\n\n  ariaValue = 'normal mode';\n\n  constructor(ref: ElementRef, public API: VgAPI, public fsAPI: VgFullscreenAPI) {\n    this.elem = ref.nativeElement;\n    this.subscriptions.push(this.fsAPI.onChangeFullscreen.subscribe(this.onChangeFullscreen.bind(this)));\n  }\n\n  ngOnInit() {\n    if (this.API.isPlayerReady) {\n      this.onPlayerReady();\n    } else {\n      this.subscriptions.push(this.API.playerReadyEvent.subscribe(() => this.onPlayerReady()));\n    }\n  }\n\n  onPlayerReady() {\n    this.target = this.API.getMediaById(this.vgFor);\n  }\n\n  onChangeFullscreen(fsState: boolean) {\n    this.ariaValue = fsState ? 'fullscren mode' : 'normal mode';\n    this.isFullscreen = fsState;\n  }\n\n  @HostListener('click')\n  onClick() {\n    this.changeFullscreenState();\n  }\n\n  @HostListener('keydown', ['$event'])\n  onKeyDown(event: KeyboardEvent) {\n    // On press Enter (13) or Space (32)\n    if (event.keyCode === 13 || event.keyCode === 32) {\n      event.preventDefault();\n      this.changeFullscreenState();\n    }\n  }\n\n  changeFullscreenState() {\n    let element = this.target;\n\n    if (this.target instanceof VgAPI) {\n      element = null;\n    }\n\n    this.fsAPI.toggleFullscreen(element);\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(s => s.unsubscribe());\n  }\n}\n","import { Component, Input, ElementRef, HostListener, OnInit, ViewEncapsulation, OnDestroy } from '@angular/core';\nimport { VgAPI } from '../../core/services/vg-api';\nimport { Subscription } from 'rxjs';\n\n// tslint:disable:component-class-suffix\n@Component({\n  selector: 'vg-mute',\n  encapsulation: ViewEncapsulation.None,\n  template: `\n        <div class=\"icon\"\n             [class.vg-icon-volume_up]=\"getVolume() >= 0.75\"\n             [class.vg-icon-volume_down]=\"getVolume() >= 0.25 && getVolume() < 0.75\"\n             [class.vg-icon-volume_mute]=\"getVolume() > 0 && getVolume() < 0.25\"\n             [class.vg-icon-volume_off]=\"getVolume() === 0\"\n             tabindex=\"0\"\n             role=\"button\"\n             aria-label=\"mute button\"\n             [attr.aria-valuetext]=\"ariaValue\">\n        </div>`,\n  styles: [`\n        vg-mute {\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -khtml-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            display: flex;\n            justify-content: center;\n            height: 50px;\n            width: 50px;\n            cursor: pointer;\n            color: white;\n            line-height: 50px;\n        }\n        vg-mute .icon {\n            pointer-events: none;\n        }\n    ` ]\n})\nexport class VgMute implements OnInit, OnDestroy {\n  @Input() vgFor: string;\n  elem: HTMLElement;\n  target: any;\n\n  currentVolume: number;\n\n  subscriptions: Subscription[] = [];\n\n  ariaValue = 'unmuted';\n\n  constructor(ref: ElementRef, public API: VgAPI) {\n    this.elem = ref.nativeElement;\n  }\n\n  ngOnInit() {\n    if (this.API.isPlayerReady) {\n      this.onPlayerReady();\n    } else {\n      this.subscriptions.push(this.API.playerReadyEvent.subscribe(() => this.onPlayerReady()));\n    }\n  }\n\n  onPlayerReady() {\n    this.target = this.API.getMediaById(this.vgFor);\n    this.currentVolume = this.target.volume;\n  }\n\n  @HostListener('click')\n  onClick() {\n    this.changeMuteState();\n  }\n\n  @HostListener('keydown', ['$event'])\n  onKeyDown(event: KeyboardEvent) {\n    // On press Enter (13) or Space (32)\n    if (event.keyCode === 13 || event.keyCode === 32) {\n      event.preventDefault();\n      this.changeMuteState();\n    }\n  }\n\n  changeMuteState() {\n    const volume = this.getVolume();\n\n    if (volume === 0) {\n      if (this.target.volume === 0 && this.currentVolume === 0) {\n        this.currentVolume = 1;\n      }\n\n      this.target.volume = this.currentVolume;\n    } else {\n      this.currentVolume = volume;\n      this.target.volume = 0;\n    }\n  }\n\n  getVolume() {\n    const volume = this.target ? this.target.volume : 0;\n    this.ariaValue = volume ? 'unmuted' : 'muted';\n    return volume;\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(s => s.unsubscribe());\n  }\n}\n","import {\n  Component,\n  Input,\n  ElementRef,\n  HostListener,\n  OnInit,\n  ViewEncapsulation,\n  ViewChild,\n  OnDestroy\n} from '@angular/core';\nimport { VgAPI } from '../../core/services/vg-api';\nimport { Subscription } from 'rxjs';\n\n\n// tslint:disable:component-class-suffix\n@Component({\n  selector: 'vg-volume',\n  encapsulation: ViewEncapsulation.None,\n  template: `\n        <div\n            #volumeBar\n            class=\"volumeBar\"\n            tabindex=\"0\"\n            role=\"slider\"\n            aria-label=\"volume level\"\n            aria-level=\"polite\"\n            [attr.aria-valuenow]=\"ariaValue\"\n            aria-valuemin=\"0\"\n            aria-valuemax=\"100\"\n            aria-orientation=\"horizontal\"\n            [attr.aria-valuetext]=\"ariaValue + '%'\"\n            (click)=\"onClick($event)\"\n            (mousedown)=\"onMouseDown($event)\">\n            <div class=\"volumeBackground\" [ngClass]=\"{dragging: isDragging}\">\n                <div class=\"volumeValue\" [style.width]=\"(getVolume() * (100-15)) + '%'\"></div>\n                <div class=\"volumeKnob\" [style.left]=\"(getVolume() * (100-15)) + '%'\"></div>\n            </div>\n        </div>\n    `,\n  styles: [\n    `\n        vg-volume {\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            display: flex;\n            justify-content: center;\n            height: 50px;\n            width: 100px;\n            cursor: pointer;\n            color: white;\n            line-height: 50px;\n        }\n        vg-volume .volumeBar {\n            position: relative;\n            display: flex;\n            flex-grow: 1;\n            align-items: center;\n        }\n        vg-volume .volumeBackground {\n            display: flex;\n            flex-grow: 1;\n            height: 5px;\n            pointer-events: none;\n            background-color: #333;\n        }\n        vg-volume .volumeValue {\n            display: flex;\n            height: 5px;\n            pointer-events: none;\n            background-color: #FFF;\n            transition:all 0.2s ease-out;\n        }\n        vg-volume .volumeKnob {\n            position: absolute;\n            width: 15px; height: 15px;\n            left: 0; top: 50%;\n            transform: translateY(-50%);\n            border-radius: 15px;\n            pointer-events: none;\n            background-color: #FFF;\n            transition:all 0.2s ease-out;\n        }\n        vg-volume .volumeBackground.dragging .volumeValue,\n        vg-volume .volumeBackground.dragging .volumeKnob {\n            transition: none;\n        }\n    `\n  ]\n})\nexport class VgVolume implements OnInit, OnDestroy {\n  @Input() vgFor: string;\n  @ViewChild('volumeBar', { static: true })\n  volumeBarRef: ElementRef;\n\n  elem: HTMLElement;\n  target: any;\n  isDragging: boolean;\n  mouseDownPosX: number;\n  ariaValue: number;\n\n  subscriptions: Subscription[] = [];\n\n  constructor(ref: ElementRef, public API: VgAPI) {\n    this.elem = ref.nativeElement;\n    this.isDragging = false;\n  }\n\n  ngOnInit() {\n    if (this.API.isPlayerReady) {\n      this.onPlayerReady();\n    } else {\n      this.subscriptions.push(\n        this.API.playerReadyEvent.subscribe(() => this.onPlayerReady())\n      );\n    }\n  }\n\n  onPlayerReady() {\n    this.target = this.API.getMediaById(this.vgFor);\n    this.ariaValue = this.getVolume() * 100;\n  }\n\n  onClick(event: { clientX: number }) {\n    this.setVolume(this.calculateVolume(event.clientX));\n  }\n\n  onMouseDown(event: { clientX: number }) {\n    this.mouseDownPosX = event.clientX;\n    this.isDragging = true;\n  }\n\n  @HostListener('document:mousemove', ['$event'])\n  onDrag(event: { clientX: number }) {\n    if (this.isDragging) {\n      this.setVolume(this.calculateVolume(event.clientX));\n    }\n  }\n\n  @HostListener('document:mouseup', ['$event'])\n  onStopDrag(event: { clientX: number }) {\n    if (this.isDragging) {\n      this.isDragging = false;\n      if (this.mouseDownPosX === event.clientX) {\n        this.setVolume(this.calculateVolume(event.clientX));\n      }\n    }\n  }\n\n  @HostListener('keydown', ['$event'])\n  arrowAdjustVolume(event: KeyboardEvent) {\n    if (event.keyCode === 38 || event.keyCode === 39) {\n      event.preventDefault();\n      this.setVolume(Math.max(0, Math.min(100, this.getVolume() * 100 + 10)));\n    } else if (event.keyCode === 37 || event.keyCode === 40) {\n      event.preventDefault();\n      this.setVolume(Math.max(0, Math.min(100, this.getVolume() * 100 - 10)));\n    }\n  }\n\n  calculateVolume(mousePosX: number) {\n    const recObj = this.volumeBarRef.nativeElement.getBoundingClientRect();\n    const volumeBarOffsetLeft: number = recObj.left;\n    const volumeBarWidth: number = recObj.width;\n    return (mousePosX - volumeBarOffsetLeft) / volumeBarWidth * 100;\n  }\n\n  setVolume(vol: number) {\n    this.target.volume = Math.max(0, Math.min(1, vol / 100));\n    this.ariaValue = this.target.volume * 100;\n  }\n\n  getVolume(): number {\n    return this.target ? this.target.volume : 0;\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach((s) => s.unsubscribe());\n  }\n}\n","import { Component, ElementRef, HostListener, OnInit, Input, ViewEncapsulation, OnDestroy } from '@angular/core';\nimport { VgAPI } from '../../core/services/vg-api';\nimport { VgStates } from '../../core/states/vg-states';\nimport { Subscription } from 'rxjs';\n\n// tslint:disable:component-class-suffix\n@Component({\n  selector: 'vg-play-pause',\n  encapsulation: ViewEncapsulation.None,\n  template: `\n        <div class=\"icon\"\n             [class.vg-icon-pause]=\"getState() === 'playing'\"\n             [class.vg-icon-play_arrow]=\"getState() === 'paused' || getState() === 'ended'\"\n             tabindex=\"0\"\n             role=\"button\"\n             [attr.aria-label]=\"getState() === 'paused'?'play':'pause'\"\n             [attr.aria-valuetext]=\"ariaValue\">\n        </div>`,\n  styles: [`\n        vg-play-pause {\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -khtml-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            display: flex;\n            justify-content: center;\n            height: 50px;\n            width: 50px;\n            cursor: pointer;\n            color: white;\n            line-height: 50px;\n        }\n        vg-play-pause .icon {\n            pointer-events: none;\n        }\n    ` ]\n})\nexport class VgPlayPause implements OnInit, OnDestroy {\n  @Input() vgFor: string;\n\n  elem: HTMLElement;\n  target: any;\n\n  subscriptions: Subscription[] = [];\n\n  ariaValue = VgStates.VG_PAUSED;\n\n  constructor(ref: ElementRef, public API: VgAPI) {\n    this.elem = ref.nativeElement;\n  }\n\n  ngOnInit() {\n    if (this.API.isPlayerReady) {\n      this.onPlayerReady();\n    } else {\n      this.subscriptions.push(this.API.playerReadyEvent.subscribe(() => this.onPlayerReady()));\n    }\n  }\n\n  onPlayerReady() {\n    this.target = this.API.getMediaById(this.vgFor);\n  }\n\n  @HostListener('click')\n  onClick() {\n    this.playPause();\n  }\n\n  @HostListener('keydown', ['$event'])\n  onKeyDown(event: KeyboardEvent) {\n    // On press Enter (13) or Space (32)\n    if (event.keyCode === 13 || event.keyCode === 32) {\n      event.preventDefault();\n      this.playPause();\n    }\n  }\n\n  playPause() {\n    const state = this.getState();\n\n    switch (state) {\n      case VgStates.VG_PLAYING:\n        this.target.pause();\n        break;\n\n      case VgStates.VG_PAUSED:\n      case VgStates.VG_ENDED:\n        this.target.play();\n        break;\n    }\n  }\n\n  getState() {\n    this.ariaValue = this.target ? this.target.state : VgStates.VG_PAUSED;\n    return this.ariaValue;\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(s => s.unsubscribe());\n  }\n}\n","import { Component, Input, ElementRef, HostListener, OnInit, ViewEncapsulation, OnDestroy } from '@angular/core';\nimport { VgAPI } from '../../core/services/vg-api';\nimport { Subscription } from 'rxjs';\n\n// tslint:disable:component-class-suffix\n@Component({\n  selector: 'vg-playback-button',\n  encapsulation: ViewEncapsulation.None,\n  template: `\n    <span class=\"button\"\n          tabindex=\"0\"\n          role=\"button\"\n          aria-label=\"playback speed button\"\n          [attr.aria-valuetext]=\"ariaValue\">\n        {{getPlaybackRate()}}x\n    </span>`,\n  styles: [`\n        vg-playback-button {\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            display: flex;\n            justify-content: center;\n            height: 50px;\n            width: 50px;\n            cursor: pointer;\n            color: white;\n            line-height: 50px;\n            font-family: Helvetica Neue, Helvetica, Arial, sans-serif;\n        }\n        vg-playback-button .button {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            width: 50px;\n        }\n    ` ]\n})\nexport class VgPlaybackButton implements OnInit, OnDestroy {\n  @Input() vgFor: string;\n\n  elem: HTMLElement;\n  target: any;\n\n  @Input() playbackValues: Array<string>;\n  playbackIndex: number;\n\n  subscriptions: Subscription[] = [];\n\n  ariaValue = 1;\n\n  constructor(ref: ElementRef, public API: VgAPI) {\n    this.elem = ref.nativeElement;\n    this.playbackValues = ['0.5', '1.0', '1.5', '2.0'];\n    this.playbackIndex = 1;\n  }\n\n  ngOnInit() {\n    if (this.API.isPlayerReady) {\n      this.onPlayerReady();\n    } else {\n      this.subscriptions.push(this.API.playerReadyEvent.subscribe(() => this.onPlayerReady()));\n    }\n  }\n\n  onPlayerReady() {\n    this.target = this.API.getMediaById(this.vgFor);\n  }\n\n  @HostListener('click')\n  onClick() {\n    this.updatePlaybackSpeed();\n  }\n\n  @HostListener('keydown', ['$event'])\n  onKeyDown(event: KeyboardEvent) {\n    // On press Enter (13) or Space (32)\n    if (event.keyCode === 13 || event.keyCode === 32) {\n      event.preventDefault();\n      this.updatePlaybackSpeed();\n    }\n  }\n\n  updatePlaybackSpeed() {\n    this.playbackIndex = ++this.playbackIndex % this.playbackValues.length;\n\n    if (this.target instanceof VgAPI) {\n      this.target.playbackRate = (this.playbackValues[this.playbackIndex]);\n    } else {\n      this.target.playbackRate[this.vgFor] = (this.playbackValues[this.playbackIndex]);\n    }\n  }\n\n  getPlaybackRate() {\n    this.ariaValue = this.target ? this.target.playbackRate : 1.0;\n    return this.ariaValue;\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(s => s.unsubscribe());\n  }\n}\n","import {\n  Component, ElementRef, Input, HostListener, OnInit, ViewEncapsulation, HostBinding,\n  OnDestroy\n} from '@angular/core';\nimport { VgAPI } from '../../core/services/vg-api';\nimport { VgControlsHidden } from '../../core/services/vg-controls-hidden';\nimport { VgStates } from '../../core/states/vg-states';\nimport { Subscription } from 'rxjs';\n\n\n// tslint:disable:component-class-suffix\n@Component({\n  selector: 'vg-scrub-bar',\n  encapsulation: ViewEncapsulation.None,\n  template: `\n        <div class=\"scrubBar\"\n             tabindex=\"0\"\n             role=\"slider\"\n             aria-label=\"scrub bar\"\n             aria-level=\"polite\"\n             [attr.aria-valuenow]=\"getPercentage()\"\n             aria-valuemin=\"0\"\n             aria-valuemax=\"100\"\n             [attr.aria-valuetext]=\"getPercentage() + '%'\">\n            <ng-content></ng-content>\n        </div>\n    `,\n  styles: [`\n        vg-scrub-bar {\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            position: absolute;\n            width: 100%;\n            height: 5px;\n            bottom: 50px;\n            margin: 0;\n            cursor: pointer;\n            align-items: center;\n            background: rgba(0, 0, 0, 0.75);\n            z-index: 250;\n            -webkit-transition: bottom 1s, opacity 0.5s;\n            -khtml-transition: bottom 1s, opacity 0.5s;\n            -moz-transition: bottom 1s, opacity 0.5s;\n            -ms-transition: bottom 1s, opacity 0.5s;\n            transition: bottom 1s, opacity 0.5s;\n        }\n        vg-scrub-bar .scrubBar {\n            position: relative;\n            display: flex;\n            flex-grow: 1;\n            align-items: center;\n            height: 100%;\n        }\n        vg-controls vg-scrub-bar {\n            position: relative;\n            bottom: 0;\n            background: transparent;\n            height: 50px;\n            flex-grow: 1;\n            flex-basis: 0;\n            margin: 0 10px;\n            -webkit-transition: initial;\n            -khtml-transition: initial;\n            -moz-transition: initial;\n            -ms-transition: initial;\n            transition: initial;\n        }\n        vg-scrub-bar.hide {\n            bottom: 0;\n            opacity: 0;\n        }\n        vg-controls vg-scrub-bar.hide {\n            bottom: initial;\n            opacity: initial;\n        }\n    ` ]\n})\nexport class VgScrubBar implements OnInit, OnDestroy {\n  @HostBinding('class.hide') hideScrubBar = false;\n\n  @Input() vgFor: string;\n  @Input() vgSlider = true;\n\n  elem: HTMLElement;\n  target: any;\n  isSeeking = false;\n  wasPlaying = false;\n\n  subscriptions: Subscription[] = [];\n\n  constructor(ref: ElementRef, public API: VgAPI, vgControlsHiddenState: VgControlsHidden) {\n    this.elem = ref.nativeElement;\n    this.subscriptions.push(vgControlsHiddenState.isHidden.subscribe(hide => this.onHideScrubBar(hide)));\n  }\n\n  ngOnInit() {\n    if (this.API.isPlayerReady) {\n      this.onPlayerReady();\n    } else {\n      this.subscriptions.push(this.API.playerReadyEvent.subscribe(() => this.onPlayerReady()));\n    }\n  }\n\n  onPlayerReady() {\n    this.target = this.API.getMediaById(this.vgFor);\n  }\n\n  protected seekStart() {\n    if (this.target.canPlay) {\n      this.isSeeking = true;\n      if (this.target.state === VgStates.VG_PLAYING) {\n        this.wasPlaying = true;\n      }\n      this.target.pause();\n    }\n  }\n\n  protected seekMove(offset: number) {\n    if (this.isSeeking) {\n      const percentage = Math.max(Math.min(offset * 100 / this.elem.scrollWidth, 99.9), 0);\n      this.target.time.current = percentage * this.target.time.total / 100;\n      this.target.seekTime(percentage, true);\n    }\n  }\n\n  protected seekEnd(offset: number) {\n    this.isSeeking = false;\n    if (this.target.canPlay) {\n      const percentage = Math.max(Math.min(offset * 100 / this.elem.scrollWidth, 99.9), 0);\n      this.target.seekTime(percentage, true);\n      if (this.wasPlaying) {\n        this.wasPlaying = false;\n        this.target.play();\n      }\n    }\n  }\n\n  protected touchEnd() {\n    this.isSeeking = false;\n    if (this.wasPlaying) {\n      this.wasPlaying = false;\n      this.target.play();\n    }\n  }\n\n  protected getTouchOffset(event: any) {\n    let offsetLeft = 0;\n    let element: any = event.target;\n    while (element) {\n      offsetLeft += element.offsetLeft;\n      element = element.offsetParent;\n    }\n    return event.touches[0].pageX - offsetLeft;\n  }\n\n  @HostListener('mousedown', ['$event'])\n  onMouseDownScrubBar($event: any) {\n    if (this.target) {\n      if (!this.target.isLive) {\n        if (!this.vgSlider) {\n          this.seekEnd($event.offsetX);\n        } else {\n          this.seekStart();\n        }\n      }\n    }\n  }\n\n  @HostListener('document:mousemove', ['$event'])\n  onMouseMoveScrubBar($event: any) {\n    if (this.target) {\n      if (!this.target.isLive && this.vgSlider && this.isSeeking) {\n        this.seekMove($event.offsetX);\n      }\n    }\n  }\n\n  @HostListener('document:mouseup', ['$event'])\n  onMouseUpScrubBar($event: any) {\n    if (this.target) {\n      if (!this.target.isLive && this.vgSlider && this.isSeeking) {\n        this.seekEnd($event.offsetX);\n      }\n    }\n  }\n\n  @HostListener('touchstart', ['$event'])\n  onTouchStartScrubBar($event: any) {\n    if (this.target) {\n      if (!this.target.isLive) {\n        if (!this.vgSlider) {\n          this.seekEnd(this.getTouchOffset($event));\n        } else {\n          this.seekStart();\n        }\n      }\n    }\n  }\n\n  @HostListener('document:touchmove', ['$event'])\n  onTouchMoveScrubBar($event: any) {\n    if (this.target) {\n      if (!this.target.isLive && this.vgSlider && this.isSeeking) {\n        this.seekMove(this.getTouchOffset($event));\n      }\n    }\n  }\n  // @ts-ignore\n  @HostListener('document:touchcancel', ['$event']) onTouchCancelScrubBar($event: any) {\n    if (this.target) {\n      if (!this.target.isLive && this.vgSlider && this.isSeeking) {\n        this.touchEnd();\n      }\n    }\n  }\n  // @ts-ignore\n  @HostListener('document:touchend', ['$event']) onTouchEndScrubBar($event: any) {\n    if (this.target) {\n      if (!this.target.isLive && this.vgSlider && this.isSeeking) {\n        this.touchEnd();\n      }\n    }\n  }\n\n  @HostListener('keydown', ['$event'])\n  arrowAdjustVolume(event: KeyboardEvent) {\n    if (this.target) {\n      if (event.keyCode === 38 || event.keyCode === 39) {\n        event.preventDefault();\n        this.target.seekTime((this.target.time.current + 5000) / 1000, false);\n      } else if (event.keyCode === 37 || event.keyCode === 40) {\n        event.preventDefault();\n        this.target.seekTime((this.target.time.current - 5000) / 1000, false);\n      }\n    }\n  }\n\n  getPercentage() {\n    return this.target ? ((this.target.time.current * 100) / this.target.time.total) + '%' : '0%';\n  }\n\n  onHideScrubBar(hide: boolean) {\n    this.hideScrubBar = hide;\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(s => s.unsubscribe());\n  }\n}\n","import { Component, Input, ElementRef, OnInit, ViewEncapsulation, OnDestroy } from '@angular/core';\nimport { VgAPI } from '../../../core/services/vg-api';\nimport { Subscription } from 'rxjs';\n\n// tslint:disable:component-class-suffix\n@Component({\n  selector: 'vg-scrub-bar-buffering-time',\n  encapsulation: ViewEncapsulation.None,\n  template: `<div class=\"background\" [style.width]=\"getBufferTime()\"></div>`,\n  styles: [`\n        vg-scrub-bar-buffering-time {\n            display: flex;\n            width: 100%;\n            height: 5px;\n            pointer-events: none;\n            position: absolute;\n        }\n        vg-scrub-bar-buffering-time .background {\n            background-color: rgba(255, 255, 255, 0.3);\n        }\n        vg-controls vg-scrub-bar-buffering-time {\n            position: absolute;\n            top: calc(50% - 3px);\n        }\n        vg-controls vg-scrub-bar-buffering-time .background {\n            -webkit-border-radius: 2px;\n            -moz-border-radius: 2px;\n            border-radius: 2px;\n        }\n    ` ]\n})\nexport class VgScrubBarBufferingTime implements OnInit, OnDestroy {\n  @Input() vgFor: string;\n\n  elem: HTMLElement;\n  target: any;\n\n  subscriptions: Subscription[] = [];\n\n  constructor(ref: ElementRef, public API: VgAPI) {\n    this.elem = ref.nativeElement;\n  }\n\n  ngOnInit() {\n    if (this.API.isPlayerReady) {\n      this.onPlayerReady();\n    } else {\n      this.subscriptions.push(this.API.playerReadyEvent.subscribe(() => this.onPlayerReady()));\n    }\n  }\n\n  onPlayerReady() {\n    this.target = this.API.getMediaById(this.vgFor);\n  }\n\n  getBufferTime() {\n    let bufferTime = '0%';\n\n    if (this.target && this.target.buffer && this.target.buffered.length) {\n      if (this.target.time.total === 0) {\n        bufferTime = '0%';\n      } else {\n        bufferTime = ((this.target.buffer.end / this.target.time.total) * 100) + '%';\n      }\n    }\n\n    return bufferTime;\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(s => s.unsubscribe());\n  }\n}\n","import {\n  Component,\n  ElementRef,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  DoCheck,\n  SimpleChange,\n  ViewEncapsulation\n} from '@angular/core';\nimport { VgAPI } from '../../../core/services/vg-api';\nimport { Subscription } from 'rxjs';\n\n// tslint:disable:no-conflicting-lifecycle\n// tslint:disable:component-class-suffix\n// tslint:disable:no-string-literal\n@Component({\n  selector: 'vg-scrub-bar-cue-points',\n  encapsulation: ViewEncapsulation.None,\n  template: `\n        <div class=\"cue-point-container\">\n            <span *ngFor=\"let cp of cuePoints\" [style.width]=\"cp.$$style?.width\" [style.left]=\"cp.$$style?.left\"\n                  class=\"cue-point\"></span>\n        </div>\n    `,\n  styles: [`\n        vg-scrub-bar-cue-points {\n            display: flex;\n            width: 100%;\n            height: 5px;\n            pointer-events: none;\n            position: absolute;\n        }\n        vg-scrub-bar-cue-points .cue-point-container .cue-point {\n            position: absolute;\n            height: 5px;\n            background-color: rgba(255, 204, 0, 0.7);\n        }\n        vg-controls vg-scrub-bar-cue-points {\n            position: absolute;\n            top: calc(50% - 3px);\n        }\n    ` ]\n})\nexport class VgScrubBarCuePoints implements OnInit, OnChanges, OnDestroy, DoCheck {\n  @Input() vgCuePoints: TextTrackCueList;\n  @Input() vgFor: string;\n\n  elem: HTMLElement;\n  target: any;\n  onLoadedMetadataCalled = false;\n  cuePoints: Array<any> = [];\n\n  subscriptions: Subscription[] = [];\n\n  totalCues = 0;\n\n  constructor(ref: ElementRef, public API: VgAPI) {\n    this.elem = ref.nativeElement;\n  }\n\n  ngOnInit() {\n    if (this.API.isPlayerReady) {\n      this.onPlayerReady();\n    } else {\n      this.subscriptions.push(this.API.playerReadyEvent.subscribe(() => this.onPlayerReady()));\n    }\n  }\n\n  onPlayerReady() {\n    this.target = this.API.getMediaById(this.vgFor);\n\n    const onTimeUpdate = this.target.subscriptions.loadedMetadata;\n    this.subscriptions.push(onTimeUpdate.subscribe(this.onLoadedMetadata.bind(this)));\n\n    if (this.onLoadedMetadataCalled) {\n      this.onLoadedMetadata();\n    }\n  }\n\n  onLoadedMetadata() {\n    if (this.vgCuePoints) {\n      // We need to transform the TextTrackCueList to Array or it doesn't work on IE11/Edge.\n      // See: https://github.com/videogular/videogular2/issues/369\n      this.cuePoints = [];\n\n      for (let i = 0, l = this.vgCuePoints.length; i < l; i++) {\n        const end = (this.vgCuePoints[i].endTime >= 0) ? this.vgCuePoints[i].endTime : this.vgCuePoints[i].startTime + 1;\n        const cuePointDuration = (end - this.vgCuePoints[i].startTime) * 1000;\n        let position = '0';\n        let percentWidth = '0';\n\n        if (typeof cuePointDuration === 'number' && this.target.time.total) {\n          percentWidth = ((cuePointDuration * 100) / this.target.time.total) + '%';\n          position = (this.vgCuePoints[i].startTime * 100 / (Math.round(this.target.time.total / 1000))) + '%';\n        }\n\n        (this.vgCuePoints[i] as any).$$style = {\n          width: percentWidth,\n          left: position\n        };\n\n        this.cuePoints.push(this.vgCuePoints[i]);\n      }\n    }\n  }\n\n  updateCuePoints() {\n    if (!this.target) {\n      this.onLoadedMetadataCalled = true;\n      return;\n    }\n    this.onLoadedMetadata();\n  }\n\n  ngOnChanges(changes: { [propName: string]: SimpleChange }) {\n    if (changes['vgCuePoints'].currentValue) {\n      this.updateCuePoints();\n    }\n  }\n\n  ngDoCheck() {\n    if (this.vgCuePoints) {\n      const changes = this.totalCues !== this.vgCuePoints.length;\n\n      if (changes) {\n        this.totalCues = this.vgCuePoints.length;\n        this.updateCuePoints();\n      }\n    }\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(s => s.unsubscribe());\n  }\n}\n","import { Component, Input, ElementRef, OnInit, ViewEncapsulation, OnDestroy } from '@angular/core';\nimport { VgAPI } from '../../../core/services/vg-api';\nimport { Subscription } from 'rxjs';\n\n// tslint:disable:component-class-suffix\n@Component({\n  selector: 'vg-scrub-bar-current-time',\n  encapsulation: ViewEncapsulation.None,\n  template: `<div class=\"background\" [style.width]=\"getPercentage()\"></div><span class=\"slider\" *ngIf=\"vgSlider\"></span>`,\n  styles: [`\n        vg-scrub-bar-current-time {\n            display: flex;\n            width: 100%;\n            height: 5px;\n            pointer-events: none;\n            position: absolute;\n        }\n        vg-scrub-bar-current-time .background {\n            background-color: white;\n        }\n        vg-controls vg-scrub-bar-current-time {\n            position: absolute;\n            top: calc(50% - 3px);\n            -webkit-border-radius: 2px;\n            -moz-border-radius: 2px;\n            border-radius: 2px;\n        }\n        vg-controls vg-scrub-bar-current-time .background {\n            border: 1px solid white;\n            -webkit-border-radius: 2px;\n            -moz-border-radius: 2px;\n            border-radius: 2px;\n        }\n\n        vg-scrub-bar-current-time .slider{\n            background: white;\n            height: 15px;\n            width: 15px;\n            border-radius: 50%;\n            box-shadow: 0px 0px 10px black;\n            margin-top: -5px;\n            margin-left: -10px;\n        }\n    ` ]\n})\nexport class VgScrubBarCurrentTime implements OnInit, OnDestroy {\n  @Input() vgFor: string;\n  @Input() vgSlider = false;\n\n  elem: HTMLElement;\n  target: any;\n\n  subscriptions: Subscription[] = [];\n\n  constructor(ref: ElementRef, public API: VgAPI) {\n    this.elem = ref.nativeElement;\n  }\n\n  ngOnInit() {\n    if (this.API.isPlayerReady) {\n      this.onPlayerReady();\n    } else {\n      this.subscriptions.push(this.API.playerReadyEvent.subscribe(() => this.onPlayerReady()));\n    }\n  }\n\n  onPlayerReady() {\n    this.target = this.API.getMediaById(this.vgFor);\n  }\n\n  getPercentage() {\n    return this.target ? ((this.target.time.current * 100) / this.target.time.total) + '%' : '0%';\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(s => s.unsubscribe());\n  }\n}\n","import { Component, Input, ElementRef, OnInit, PipeTransform, Pipe, ViewEncapsulation, OnDestroy } from '@angular/core';\nimport { VgAPI } from '../../core/services/vg-api';\nimport { Subscription } from 'rxjs';\n\n// Workaround until we can use UTC with Angular Date Pipe\n@Pipe({ name: 'vgUtc' })\nexport class VgUtcPipe implements PipeTransform {\n  transform(value: number, format: string): string {\n    const date = new Date(value);\n    let result = format;\n    let ss: string | number = date.getUTCSeconds();\n    let mm: string | number = date.getUTCMinutes();\n    let hh: string | number = date.getUTCHours();\n\n    if (ss < 10) {\n      ss = '0' + ss;\n    }\n    if (mm < 10) {\n      mm = '0' + mm;\n    }\n    if (hh < 10) {\n      hh = '0' + hh;\n    }\n\n    result = result.replace(/ss/g, ss as string);\n    result = result.replace(/mm/g, mm as string);\n    result = result.replace(/hh/g, hh as string);\n\n    return result;\n  }\n}\n// tslint:disable:component-class-suffix\n@Component({\n  selector: 'vg-time-display',\n  encapsulation: ViewEncapsulation.None,\n  template: `\n        <span *ngIf=\"target?.isLive\">LIVE</span>\n        <span *ngIf=\"!target?.isLive\">{{ getTime() | vgUtc:vgFormat }}</span>\n        <ng-content></ng-content>\n    `,\n  styles: [`\n        vg-time-display {\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            display: flex;\n            justify-content: center;\n            height: 50px;\n            width: 60px;\n            cursor: pointer;\n            color: white;\n            line-height: 50px;\n            pointer-events: none;\n            font-family: Helvetica Neue, Helvetica, Arial, sans-serif;\n        }\n    ` ]\n})\nexport class VgTimeDisplay implements OnInit, OnDestroy {\n  @Input() vgFor: string;\n  @Input() vgProperty = 'current';\n  @Input() vgFormat = 'mm:ss';\n\n  elem: HTMLElement;\n  target: any;\n\n  subscriptions: Subscription[] = [];\n\n  constructor(ref: ElementRef, public API: VgAPI) {\n    this.elem = ref.nativeElement;\n  }\n\n  ngOnInit() {\n    if (this.API.isPlayerReady) {\n      this.onPlayerReady();\n    } else {\n      this.subscriptions.push(this.API.playerReadyEvent.subscribe(() => this.onPlayerReady()));\n    }\n  }\n\n  onPlayerReady() {\n    this.target = this.API.getMediaById(this.vgFor);\n  }\n\n  getTime() {\n    let t = 0;\n\n    if (this.target) {\n      t = Math.round(this.target.time[this.vgProperty]);\n      t = isNaN(t) || this.target.isLive ? 0 : t;\n    }\n\n    return t;\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(s => s.unsubscribe());\n  }\n}\n","import { Component, ElementRef, OnInit, Input, ViewEncapsulation, OnDestroy } from '@angular/core';\nimport { VgAPI } from '../../core/services/vg-api';\nimport { Subscription } from 'rxjs';\n\nexport interface Option {\n  id: string;\n  label: string;\n  selected: boolean;\n}\n\n// tslint:disable:component-class-suffix\n@Component({\n  selector: 'vg-track-selector',\n  encapsulation: ViewEncapsulation.None,\n  template: `\n        <div class=\"container\">\n            <div class=\"track-selected\"\n                 [class.vg-icon-closed_caption]=\"!trackSelected\">\n                {{ trackSelected || '' }}\n            </div>\n\n            <select class=\"trackSelector\"\n                    (change)=\"selectTrack($event.target.value)\"\n                    tabindex=\"0\"\n                    aria-label=\"track selector\"\n                    [attr.aria-valuetext]=\"ariaValue\">\n                <option\n                    *ngFor=\"let track of tracks\"\n                    [value]=\"track.id\"\n                    [selected]=\"track.selected === true\">\n                    {{ track.label }}\n                </option>\n            </select>\n        </div>\n    `,\n  styles: [`\n        vg-track-selector {\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            display: flex;\n            justify-content: center;\n            width: 50px;\n            height: 50px;\n            cursor: pointer;\n            color: white;\n            line-height: 50px;\n        }\n        vg-track-selector .container {\n            position: relative;\n            display: flex;\n            flex-grow: 1;\n            align-items: center;\n\n            padding: 0;\n            margin: 5px;\n        }\n        vg-track-selector select.trackSelector {\n            width: 50px;\n            padding: 5px 8px;\n            border: none;\n            background: none;\n            -webkit-appearance: none;\n            -moz-appearance: none;\n            appearance: none;\n            color: transparent;\n            font-size: 16px;\n        }\n        vg-track-selector select.trackSelector::-ms-expand {\n            display: none;\n        }\n        vg-track-selector select.trackSelector option {\n            color: #000;\n        }\n        vg-track-selector .track-selected {\n            position: absolute;\n            width: 100%;\n            height: 50px;\n            top: -6px;\n            text-align: center;\n            text-transform: uppercase;\n            font-family: Helvetica Neue, Helvetica, Arial, sans-serif;\n            padding-top: 2px;\n            pointer-events: none;\n        }\n        vg-track-selector .vg-icon-closed_caption:before {\n            width: 100%;\n        }\n    ` ]\n})\nexport class VgTrackSelector implements OnInit, OnDestroy {\n  @Input() vgFor: string;\n\n  elem: HTMLElement;\n  target: any;\n  tracks: Array<Option>;\n  trackSelected: string;\n\n  subscriptions: Subscription[] = [];\n\n  ariaValue: string;\n\n  constructor(ref: ElementRef, public API: VgAPI) {\n    this.elem = ref.nativeElement;\n  }\n\n  ngOnInit() {\n    if (this.API.isPlayerReady) {\n      this.onPlayerReady();\n    } else {\n      this.subscriptions.push(this.API.playerReadyEvent.subscribe(() => this.onPlayerReady()));\n    }\n  }\n\n  onPlayerReady() {\n    this.target = this.API.getMediaById(this.vgFor);\n\n    const subs: Array<Option> = Array.from((this.API.getMasterMedia().elem as HTMLMediaElement).children)\n      .filter((item: HTMLElement) => item.tagName === 'TRACK')\n      .filter((item: HTMLTrackElement) => item.kind === 'subtitles')\n      .map((item: HTMLTrackElement) => ({\n        label: item.label,\n        selected: item.default === true,\n        id: item.srclang\n      }));\n\n    this.tracks = [\n      ...subs,\n      {\n        id: null,\n        label: 'Off',\n        selected: subs.every((item: Option) => item.selected === false)\n      }\n    ];\n\n    const track: Option = this.tracks.filter((item: Option) => item.selected === true)[0];\n    this.trackSelected = track.id;\n    this.ariaValue = track.label;\n  }\n\n  selectTrack(trackId: string) {\n    this.trackSelected = (trackId === 'null') ? null : trackId;\n\n    this.ariaValue = 'No track selected';\n\n    Array.from((this.API.getMasterMedia().elem as HTMLMediaElement).textTracks)\n      .forEach((item: TextTrack) => {\n        if (item.language === trackId) {\n          this.ariaValue = item.label;\n          item.mode = 'showing';\n        } else {\n          item.mode = 'hidden';\n        }\n      });\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(s => s.unsubscribe());\n  }\n}\n","import {\n  Component,\n  ElementRef,\n  OnInit,\n  Input,\n  ViewEncapsulation,\n  OnDestroy,\n  SimpleChanges,\n  OnChanges, Output, EventEmitter\n} from '@angular/core';\nimport { VgAPI } from '../../core/services/vg-api';\nimport { Subscription } from 'rxjs';\nimport { BitrateOption } from '../../core/vg-core.module';\n\n\n// tslint:disable:no-output-on-prefix\n// tslint:disable:component-class-suffix\n// tslint:disable:no-string-literal\n@Component({\n  selector: 'vg-quality-selector',\n  encapsulation: ViewEncapsulation.None,\n  template: `\n        <div class=\"container\">\n            <div class=\"quality-selected\"\n                 [class.vg-icon-hd]=\"!bitrateSelected\">\n                {{ bitrateSelected?.label }}\n            </div>\n\n            <select class=\"quality-selector\"\n                    (change)=\"selectBitrate($event.target.value)\"\n                    tabindex=\"0\"\n                    aria-label=\"quality selector\"\n                    [attr.aria-valuetext]=\"ariaValue\">\n                <option\n                    *ngFor=\"let bitrate of bitrates\"\n                    [value]=\"bitrate.qualityIndex.toString()\"\n                    [selected]=\"bitrate.qualityIndex === bitrateSelected?.qualityIndex\">\n                    {{ bitrate.label }}\n                </option>\n            </select>\n        </div>\n    `,\n  styles: [`\n        vg-quality-selector {\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            display: flex;\n            justify-content: center;\n            width: 50px;\n            height: 50px;\n            cursor: pointer;\n            color: white;\n            line-height: 50px;\n        }\n        vg-quality-selector .container {\n            position: relative;\n            display: flex;\n            flex-grow: 1;\n            align-items: center;\n\n            padding: 0;\n            margin: 5px;\n        }\n        vg-quality-selector select.quality-selector {\n            width: 50px;\n            padding: 5px 8px;\n            border: none;\n            background: none;\n            -webkit-appearance: none;\n            -moz-appearance: none;\n            appearance: none;\n            color: transparent;\n            font-size: 16px;\n        }\n        vg-quality-selector select.quality-selector::-ms-expand {\n            display: none;\n        }\n        vg-quality-selector select.quality-selector option {\n            color: #000;\n        }\n        vg-quality-selector .quality-selected {\n            position: absolute;\n            width: 100%;\n            height: 50px;\n            top: -6px;\n            text-align: center;\n            text-transform: uppercase;\n            font-family: Helvetica Neue, Helvetica, Arial, sans-serif;\n            padding-top: 2px;\n            pointer-events: none;\n        }\n        vg-quality-selector .vg-icon-closed_caption:before {\n            width: 100%;\n        }\n    ` ]\n})\nexport class VgQualitySelector implements OnInit, OnChanges, OnDestroy {\n  @Input() bitrates: BitrateOption[];\n\n  @Output() onBitrateChange: EventEmitter<BitrateOption> = new EventEmitter();\n\n  bitrateSelected: BitrateOption;\n\n  elem: HTMLElement;\n  target: any;\n\n  subscriptions: Subscription[] = [];\n\n  ariaValue: string | number;\n\n  constructor(ref: ElementRef, public API: VgAPI) {\n    this.elem = ref.nativeElement;\n  }\n\n  ngOnInit() {\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes['bitrates'].currentValue && changes['bitrates'].currentValue.length) {\n      this.bitrates.forEach(item => item.label = (item.label || Math.round(item.bitrate / 1000)).toString());\n    }\n  }\n\n  selectBitrate(index: number) {\n    this.bitrateSelected = this.bitrates[index];\n    this.onBitrateChange.emit(this.bitrates[index]);\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(s => s.unsubscribe());\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { VgControls } from './vg-controls';\nimport { VgFullscreen } from './vg-fullscreen/vg-fullscreen';\nimport { VgMute } from './vg-mute/vg-mute';\nimport { VgVolume } from './vg-volume/vg-volume';\nimport { VgPlayPause } from './vg-play-pause/vg-play-pause';\nimport { VgPlaybackButton } from './vg-playback-button/vg-playback-button';\nimport { VgScrubBar } from './vg-scrub-bar/vg-scrub-bar';\nimport { VgScrubBarBufferingTime } from './vg-scrub-bar/vg-scrub-bar-buffering-time/vg-scrub-bar-buffering-time';\nimport { VgScrubBarCuePoints } from './vg-scrub-bar/vg-scrub-bar-cue-points/vg-scrub-bar-cue-points';\nimport { VgScrubBarCurrentTime } from './vg-scrub-bar/vg-scrub-bar-current-time/vg-scrub-bar-current-time';\nimport { VgTimeDisplay, VgUtcPipe } from './vg-time-display/vg-time-display';\nimport { VgTrackSelector } from './vg-track-selector/vg-track-selector';\nimport { VgControlsHidden } from '../core/services/vg-controls-hidden';\nimport { VgQualitySelector } from './vg-quality-selector/vg-quality-selector';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [\n    VgControls,\n    VgFullscreen,\n    VgMute,\n    VgVolume,\n    VgPlayPause,\n    VgPlaybackButton,\n    VgScrubBar,\n    VgScrubBarBufferingTime,\n    VgScrubBarCuePoints,\n    VgScrubBarCurrentTime,\n    VgTimeDisplay,\n    VgUtcPipe,\n    VgTrackSelector,\n    VgQualitySelector\n  ],\n  exports: [\n    VgControls,\n    VgFullscreen,\n    VgMute,\n    VgVolume,\n    VgPlayPause,\n    VgPlaybackButton,\n    VgScrubBar,\n    VgScrubBarBufferingTime,\n    VgScrubBarCuePoints,\n    VgScrubBarCurrentTime,\n    VgTimeDisplay,\n    VgUtcPipe,\n    VgTrackSelector,\n    VgQualitySelector\n  ],\n  providers: [VgControlsHidden]\n})\nexport class VgControlsModule {\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class VgEvents {\n  static VG_ABORT = 'abort';\n  static VG_CAN_PLAY = 'canplay';\n  static VG_CAN_PLAY_THROUGH = 'canplaythrough';\n  static VG_DURATION_CHANGE = 'durationchange';\n  static VG_EMPTIED = 'emptied';\n  static VG_ENCRYPTED = 'encrypted';\n  static VG_ENDED = 'ended';\n  static VG_ERROR = 'error';\n  static VG_LOADED_DATA = 'loadeddata';\n  static VG_LOADED_METADATA = 'loadedmetadata';\n  static VG_LOAD_START = 'loadstart';\n  static VG_PAUSE = 'pause';\n  static VG_PLAY = 'play';\n  static VG_PLAYING = 'playing';\n  static VG_PROGRESS = 'progress';\n  static VG_RATE_CHANGE = 'ratechange';\n  static VG_SEEK = 'seek';\n  static VG_SEEKED = 'seeked';\n  static VG_SEEKING = 'seeking';\n  static VG_STALLED = 'stalled';\n  static VG_SUSPEND = 'suspend';\n  static VG_TIME_UPDATE = 'timeupdate';\n  static VG_VOLUME_CHANGE = 'volumechange';\n  static VG_WAITING = 'waiting';\n  static VG_LOAD = 'load';\n  static VG_ENTER = 'enter';\n  static VG_EXIT = 'exit';\n  static VG_START_ADS = 'startads';\n  static VG_END_ADS = 'endads';\n}\n","import { ChangeDetectorRef, OnInit, Directive, Input, OnDestroy } from '@angular/core';\nimport { IPlayable, IMediaSubscriptions } from './i-playable';\nimport { Observable, Subscription, Subject, fromEvent } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { VgStates } from '../states/vg-states';\nimport { VgAPI } from '../services/vg-api';\nimport { VgEvents } from '../events/vg-events';\nimport { IMediaElement } from './i-media-element';\nimport { timer, combineLatest } from 'rxjs';\n\n@Directive({\n  selector: '[vgMedia]'\n})\n// tslint:disable-next-line:directive-class-suffix\nexport class VgMedia implements OnInit, OnDestroy, IPlayable {\n  elem: any;\n\n  @Input() vgMedia: IMediaElement;\n  @Input() vgMaster: boolean;\n\n  state: string = VgStates.VG_PAUSED;\n\n  time: any = { current: 0, total: 0, left: 0 };\n  buffer: any = { end: 0 };\n  track: any;\n  subscriptions: IMediaSubscriptions | any;\n\n  canPlay = false;\n  canPlayThrough = false;\n  isMetadataLoaded = false;\n  isWaiting = false;\n  isCompleted = false;\n  isLive = false;\n\n  isBufferDetected = false;\n\n  checkInterval = 200;\n  currentPlayPos = 0;\n  lastPlayPos = 0;\n\n  checkBufferSubscription: any;\n  syncSubscription: Subscription;\n  canPlayAllSubscription: any;\n  playAtferSync = false;\n\n  mutationObs: Subscription;\n  canPlayObs: Subscription;\n  canPlayThroughObs: Subscription;\n  loadedMetadataObs: Subscription;\n  waitingObs: Subscription;\n  progressObs: Subscription;\n  endedObs: Subscription;\n  playingObs: Subscription;\n  playObs: Subscription;\n  pauseObs: Subscription;\n  timeUpdateObs: Subscription;\n  volumeChangeObs: Subscription;\n  errorObs: Subscription;\n\n  bufferDetected: Subject<boolean> = new Subject();\n\n  playPromise: Promise<any>;\n\n  constructor(private api: VgAPI, private ref: ChangeDetectorRef) {\n\n  }\n\n  ngOnInit() {\n    if (this.vgMedia.nodeName) {\n      // It's a native element\n      this.elem = this.vgMedia;\n    } else {\n      // It's an Angular Class\n      this.elem = this.vgMedia.elem;\n    }\n\n    // Just in case we're creating this vgMedia dynamically register again into API\n    this.api.registerMedia(this);\n\n    this.subscriptions = {\n      // Native events\n      abort: fromEvent(this.elem as any, VgEvents.VG_ABORT),\n      canPlay: fromEvent(this.elem as any, VgEvents.VG_CAN_PLAY),\n      canPlayThrough: fromEvent(this.elem, VgEvents.VG_CAN_PLAY_THROUGH),\n      durationChange: fromEvent(this.elem as any, VgEvents.VG_DURATION_CHANGE),\n      emptied: fromEvent(this.elem as any, VgEvents.VG_EMPTIED),\n      encrypted: fromEvent(this.elem as any, VgEvents.VG_ENCRYPTED),\n      ended: fromEvent(this.elem as any, VgEvents.VG_ENDED),\n      error: fromEvent(this.elem as any, VgEvents.VG_ERROR),\n      loadedData: fromEvent(this.elem as any, VgEvents.VG_LOADED_DATA),\n      loadedMetadata: fromEvent(this.elem as any, VgEvents.VG_LOADED_METADATA),\n      loadStart: fromEvent(this.elem as any, VgEvents.VG_LOAD_START),\n      pause: fromEvent(this.elem as any, VgEvents.VG_PAUSE),\n      play: fromEvent(this.elem as any, VgEvents.VG_PLAY),\n      playing: fromEvent(this.elem as any, VgEvents.VG_PLAYING),\n      progress: fromEvent(this.elem as any, VgEvents.VG_PROGRESS),\n      rateChange: fromEvent(this.elem as any, VgEvents.VG_RATE_CHANGE),\n      seeked: fromEvent(this.elem as any, VgEvents.VG_SEEKED),\n      seeking: fromEvent(this.elem as any, VgEvents.VG_SEEKING),\n      stalled: fromEvent(this.elem as any, VgEvents.VG_STALLED),\n      suspend: fromEvent(this.elem as any, VgEvents.VG_SUSPEND),\n      timeUpdate: fromEvent(this.elem as any, VgEvents.VG_TIME_UPDATE),\n      volumeChange: fromEvent(this.elem as any, VgEvents.VG_VOLUME_CHANGE),\n      waiting: fromEvent(this.elem as any, VgEvents.VG_WAITING),\n\n      // Advertisement only events\n      startAds: fromEvent(this.elem as any, VgEvents.VG_START_ADS),\n      endAds: fromEvent(this.elem as any, VgEvents.VG_END_ADS),\n\n      // See changes on <source> child elements to reload the video file\n      mutation: new Observable(\n        (observer: any) => {\n\n          const domObs = new MutationObserver((mutations) => {\n            observer.next(mutations);\n          });\n\n          domObs.observe(this.elem as any, { childList: true, attributes: true });\n\n          return () => {\n            domObs.disconnect();\n          };\n        }\n      ),\n\n      // Custom buffering detection\n      bufferDetected: this.bufferDetected\n    };\n\n    this.mutationObs = this.subscriptions.mutation.subscribe(this.onMutation.bind(this));\n    this.canPlayObs = this.subscriptions.canPlay.subscribe(this.onCanPlay.bind(this));\n    this.canPlayThroughObs = this.subscriptions.canPlayThrough.subscribe(this.onCanPlayThrough.bind(this));\n    this.loadedMetadataObs = this.subscriptions.loadedMetadata.subscribe(this.onLoadMetadata.bind(this));\n    this.waitingObs = this.subscriptions.waiting.subscribe(this.onWait.bind(this));\n    this.progressObs = this.subscriptions.progress.subscribe(this.onProgress.bind(this));\n    this.endedObs = this.subscriptions.ended.subscribe(this.onComplete.bind(this));\n    this.playingObs = this.subscriptions.playing.subscribe(this.onStartPlaying.bind(this));\n    this.playObs = this.subscriptions.play.subscribe(this.onPlay.bind(this));\n    this.pauseObs = this.subscriptions.pause.subscribe(this.onPause.bind(this));\n    this.timeUpdateObs = this.subscriptions.timeUpdate.subscribe(this.onTimeUpdate.bind(this));\n    this.volumeChangeObs = this.subscriptions.volumeChange.subscribe(this.onVolumeChange.bind(this));\n    this.errorObs = this.subscriptions.error.subscribe(this.onError.bind(this));\n\n    if (this.vgMaster) {\n      this.api.playerReadyEvent.subscribe(\n        () => {\n          this.prepareSync();\n        }\n      );\n    }\n  }\n\n  prepareSync() {\n    const canPlayAll: Array<Observable<any>> = [];\n\n    for (const media in this.api.medias) {\n      if (this.api.medias[media]) {\n        canPlayAll.push(this.api.medias[media].subscriptions.canPlay);\n      }\n    }\n\n    this.canPlayAllSubscription = combineLatest(canPlayAll).pipe(\n      map((...params) => {\n        const checkReadyState = (event) => {\n          return event.target.readyState === 4;\n        };\n        const allReady: boolean = params.some(checkReadyState);\n\n        if (allReady && !this.syncSubscription) {\n          this.startSync();\n          this.syncSubscription.unsubscribe();\n        }\n      }\n      )).subscribe();\n  }\n\n  startSync() {\n    this.syncSubscription = timer(0, 1000).subscribe(\n      () => {\n        for (const media in this.api.medias) {\n          if (this.api.medias[media] !== this) {\n            const diff: number = this.api.medias[media].currentTime - this.currentTime;\n\n            if (diff < -0.3 || diff > 0.3) {\n              this.playAtferSync = (this.state === VgStates.VG_PLAYING);\n\n              this.pause();\n              this.api.medias[media].pause();\n              this.api.medias[media].currentTime = this.currentTime;\n            }  else {\n              if (this.playAtferSync) {\n                this.play();\n                this.api.medias[media].play();\n                this.playAtferSync = false;\n              }\n            }\n          }\n        }\n      }\n    );\n  }\n\n  onMutation(mutations: Array<MutationRecord>) {\n    // Detect changes only for source elements or src attribute\n    for (let i = 0, l = mutations.length; i < l; i++) {\n      const mut: MutationRecord = mutations[i];\n\n      if (mut.type === 'attributes' && mut.attributeName === 'src') {\n        // Only load src file if it's not a blob (for DASH / HLS sources)\n        // tslint:disable-next-line:no-string-literal\n        if (mut.target['src'] && mut.target['src'].length > 0 && mut.target['src'].indexOf('blob:') < 0) {\n          this.loadMedia();\n          break;\n        }\n      } else if (mut.type === 'childList' && mut.removedNodes.length && mut.removedNodes[0].nodeName.toLowerCase() === 'source') {\n        this.loadMedia();\n        break;\n      }\n    }\n  }\n\n  loadMedia() {\n    this.vgMedia.pause();\n    this.vgMedia.currentTime = 0;\n\n    // Start buffering until we can play the media file\n    this.stopBufferCheck();\n    this.isBufferDetected = true;\n    this.bufferDetected.next(this.isBufferDetected);\n\n    // TODO: This is ugly, we should find something cleaner. For some reason a TimerObservable doesn't works.\n    setTimeout(() => this.vgMedia.load(), 10);\n  }\n\n  play() {\n    // short-circuit if already playing\n    if (this.playPromise || (this.state !== VgStates.VG_PAUSED && this.state !== VgStates.VG_ENDED)) {\n      return;\n    }\n\n    this.playPromise = this.vgMedia.play();\n\n    // browser has async play promise\n    if (this.playPromise && this.playPromise.then && this.playPromise.catch) {\n      this.playPromise\n        .then(() => {\n          this.playPromise = null;\n        })\n        .catch(() => {\n          this.playPromise = null;\n          // deliberately empty for the sake of eating console noise\n        });\n    }\n\n    return this.playPromise;\n  }\n\n  pause() {\n    // browser has async play promise\n    if (this.playPromise) {\n      this.playPromise\n        .then(() => {\n          this.vgMedia.pause();\n        });\n    }  else {\n      this.vgMedia.pause();\n    }\n  }\n\n  get id() {\n    // We should return undefined if vgMedia still doesn't exist\n    // tslint:disable-next-line:no-unnecessary-initializer\n    let result = undefined;\n\n    if (this.vgMedia) {\n      result = this.vgMedia.id;\n    }\n\n    return result;\n  }\n\n  get duration() {\n    return this.vgMedia.duration;\n  }\n\n  set currentTime(seconds) {\n    this.vgMedia.currentTime = seconds;\n    // this.elem.dispatchEvent(new CustomEvent(VgEvents.VG_SEEK));\n  }\n\n  get currentTime() {\n    return this.vgMedia.currentTime;\n  }\n\n  set volume(volume) {\n    this.vgMedia.volume = volume;\n  }\n\n  get volume() {\n    return this.vgMedia.volume;\n  }\n\n  set playbackRate(rate) {\n    this.vgMedia.playbackRate = rate;\n  }\n\n  get playbackRate() {\n    return this.vgMedia.playbackRate;\n  }\n\n  get buffered() {\n    return this.vgMedia.buffered;\n  }\n\n  get textTracks() {\n    return this.vgMedia.textTracks;\n  }\n  // @ts-ignore\n  onCanPlay(event: any) {\n    this.isBufferDetected = false;\n    this.bufferDetected.next(this.isBufferDetected);\n    this.canPlay = true;\n    this.ref.detectChanges();\n  }\n  // @ts-ignore\n  onCanPlayThrough(event: any) {\n    this.isBufferDetected = false;\n    this.bufferDetected.next(this.isBufferDetected);\n    this.canPlayThrough = true;\n    this.ref.detectChanges();\n  }\n  // @ts-ignore\n  onLoadMetadata(event: any) {\n    this.isMetadataLoaded = true;\n\n    this.time = {\n      current: 0,\n      left: 0,\n      total: this.duration * 1000\n    };\n\n    this.state = VgStates.VG_PAUSED;\n\n    // Live streaming check\n    const t: number = Math.round(this.time.total);\n    this.isLive = (t === Infinity);\n    this.ref.detectChanges();\n  }\n  // @ts-ignore\n  onWait(event: any) {\n    this.isWaiting = true;\n    this.ref.detectChanges();\n  }\n  // @ts-ignore\n  onComplete(event: any) {\n    this.isCompleted = true;\n    this.state = VgStates.VG_ENDED;\n    this.ref.detectChanges();\n  }\n  // @ts-ignore\n  onStartPlaying(event: any) {\n    this.state = VgStates.VG_PLAYING;\n    this.ref.detectChanges();\n  }\n  // @ts-ignore\n  onPlay(event: any) {\n    this.state = VgStates.VG_PLAYING;\n\n    if (this.vgMaster) {\n      if (!this.syncSubscription || this.syncSubscription.closed) {\n        this.startSync();\n      }\n    }\n\n    this.startBufferCheck();\n    this.ref.detectChanges();\n  }\n  // @ts-ignore\n  onPause(event: any) {\n    this.state = VgStates.VG_PAUSED;\n\n    if (this.vgMaster) {\n      if (!this.playAtferSync) {\n        this.syncSubscription.unsubscribe();\n      }\n    }\n\n    this.stopBufferCheck();\n    this.ref.detectChanges();\n  }\n  // @ts-ignore\n  onTimeUpdate(event: any) {\n    const end = this.buffered.length - 1;\n\n    this.time = {\n      current: this.currentTime * 1000,\n      total: this.time.total,\n      left: (this.duration - this.currentTime) * 1000\n    };\n\n    if (end >= 0) {\n      this.buffer = { end: this.buffered.end(end) * 1000 };\n    }\n    this.ref.detectChanges();\n  }\n  // @ts-ignore\n  onProgress(event: any) {\n    const end = this.buffered.length - 1;\n\n    if (end >= 0) {\n      this.buffer = { end: this.buffered.end(end) * 1000 };\n    }\n    this.ref.detectChanges();\n  }\n  // @ts-ignore\n  onVolumeChange(event: any) {\n    // TODO: Save to localstorage the current volume\n    this.ref.detectChanges();\n  }\n  // @ts-ignore\n  onError(event: any) {\n    // TODO: Handle error messages\n    this.ref.detectChanges();\n  }\n\n  // http://stackoverflow.com/a/23828241/779529\n  bufferCheck() {\n    const offset = 1 / this.checkInterval;\n    this.currentPlayPos = this.currentTime;\n\n    if (!this.isBufferDetected && this.currentPlayPos < (this.lastPlayPos + offset)) {\n      this.isBufferDetected = true;\n    }\n\n    if (this.isBufferDetected && this.currentPlayPos > (this.lastPlayPos + offset)) {\n      this.isBufferDetected = false;\n    }\n\n    // Prevent calls to bufferCheck after ngOnDestroy have been called\n    if (!this.bufferDetected.closed) {\n      this.bufferDetected.next(this.isBufferDetected);\n    }\n\n    this.lastPlayPos = this.currentPlayPos;\n  }\n\n  startBufferCheck() {\n    this.checkBufferSubscription = timer(0, this.checkInterval).subscribe(\n      () => {\n        this.bufferCheck();\n      }\n    );\n  }\n\n  stopBufferCheck() {\n    if (this.checkBufferSubscription) {\n      this.checkBufferSubscription.unsubscribe();\n    }\n\n    this.isBufferDetected = false;\n\n    this.bufferDetected.next(this.isBufferDetected);\n  }\n\n  seekTime(value: number, byPercent: boolean = false) {\n    let second: number;\n    const duration: number = this.duration;\n\n    if (byPercent) {\n      second = value * duration / 100;\n    }  else {\n      second = value;\n    }\n\n    this.currentTime = second;\n  }\n\n  addTextTrack(type: string, label?: string, language?: string, mode?: 'disabled' | 'hidden' | 'showing'): TextTrack {\n    const newTrack: TextTrack = this.vgMedia.addTextTrack(type, label, language);\n\n    if (mode) {\n      newTrack.mode = mode;\n    }\n    return newTrack;\n  }\n\n  ngOnDestroy() {\n    this.vgMedia.src = '';\n    this.mutationObs.unsubscribe();\n    this.canPlayObs.unsubscribe();\n    this.canPlayThroughObs.unsubscribe();\n    this.loadedMetadataObs.unsubscribe();\n    this.waitingObs.unsubscribe();\n    this.progressObs.unsubscribe();\n    this.endedObs.unsubscribe();\n    this.playingObs.unsubscribe();\n    this.playObs.unsubscribe();\n    this.pauseObs.unsubscribe();\n    this.timeUpdateObs.unsubscribe();\n    this.volumeChangeObs.unsubscribe();\n    this.errorObs.unsubscribe();\n\n    if (this.checkBufferSubscription) {\n      this.checkBufferSubscription.unsubscribe();\n    }\n\n    if (this.syncSubscription) {\n      this.syncSubscription.unsubscribe();\n    }\n\n    this.bufferDetected.complete();\n    this.bufferDetected.unsubscribe();\n\n    this.api.unregisterMedia(this);\n  }\n}\n","import { Directive, ElementRef, EventEmitter, OnDestroy, OnInit, Output, DoCheck } from '@angular/core';\nimport { VgEvents } from '../events/vg-events';\nimport { Observable, Subscription, fromEvent } from 'rxjs';\n\n@Directive({\n  selector: '[vgCuePoints]'\n})\n// tslint:disable-next-line:directive-class-suffix\nexport class VgCuePoints implements OnInit, OnDestroy, DoCheck {\n  // tslint:disable:no-output-on-prefix\n  @Output() onEnterCuePoint: EventEmitter<any> = new EventEmitter();\n  @Output() onUpdateCuePoint: EventEmitter<any> = new EventEmitter();\n  @Output() onExitCuePoint: EventEmitter<any> = new EventEmitter();\n  @Output() onCompleteCuePoint: EventEmitter<any> = new EventEmitter();\n\n  subscriptions: Subscription[] = [];\n  cuesSubscriptions: Subscription[] = [];\n\n  onLoad$: Observable<any>;\n  onEnter$: Observable<any>;\n  onExit$: Observable<any>;\n\n  totalCues = 0;\n\n  constructor(public ref: ElementRef) {\n  }\n\n  ngOnInit() {\n    this.onLoad$ = fromEvent(this.ref.nativeElement, VgEvents.VG_LOAD);\n    this.subscriptions.push(this.onLoad$.subscribe(this.onLoad.bind(this)));\n  }\n\n  onLoad(event: any) {\n    if (event.target && event.target.track) {\n      const cues: TextTrackCue[] = event.target.track.cues;\n\n      this.ref.nativeElement.cues = cues;\n\n      this.updateCuePoints(cues);\n    } else if (event.target && event.target.textTracks && event.target.textTracks.length) {\n        const cues: TextTrackCue[] = event.target.textTracks[0].cues;\n        this.ref.nativeElement.cues = cues;\n        this.updateCuePoints(cues);\n    }\n  }\n\n  updateCuePoints(cues: TextTrackCue[]) {\n    this.cuesSubscriptions.forEach(s => s.unsubscribe());\n\n    for (let i = 0, l = cues.length; i < l; i++) {\n      this.onEnter$ = fromEvent(cues[i], VgEvents.VG_ENTER);\n      this.cuesSubscriptions.push(this.onEnter$.subscribe(this.onEnter.bind(this)));\n\n      this.onExit$ = fromEvent(cues[i], VgEvents.VG_EXIT);\n      this.cuesSubscriptions.push(this.onExit$.subscribe(this.onExit.bind(this)));\n    }\n  }\n\n  onEnter(event: any) {\n    this.onEnterCuePoint.emit(event.target);\n  }\n\n  onExit(event: any) {\n    this.onExitCuePoint.emit(event.target);\n  }\n\n  ngDoCheck() {\n\n    if (this.ref.nativeElement.track && this.ref.nativeElement.track.cues) {\n      const changes = this.totalCues !== this.ref.nativeElement.track.cues.length;\n\n      if (changes) {\n        this.totalCues = this.ref.nativeElement.track.cues.length;\n        this.ref.nativeElement.cues = this.ref.nativeElement.track.cues;\n        this.updateCuePoints(this.ref.nativeElement.track.cues);\n      }\n    }\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(s => s.unsubscribe());\n  }\n}\n","import {\n  Output,\n  Component,\n  EventEmitter,\n  ElementRef,\n  HostBinding,\n  QueryList,\n  AfterContentInit,\n  ContentChildren, ViewEncapsulation, OnDestroy\n} from '@angular/core';\nimport { VgAPI } from '../services/vg-api';\nimport { VgFullscreenAPI } from '../services/vg-fullscreen-api';\nimport { VgUtils } from '../services/vg-utils';\nimport { VgMedia } from '../vg-media/vg-media';\nimport { Subscription } from 'rxjs';\nimport { VgControlsHidden } from '../services/vg-controls-hidden';\n\n@Component({\n  selector: 'vg-player',\n  encapsulation: ViewEncapsulation.None,\n  template: `<ng-content></ng-content>`,\n  styles: [`\n        vg-player {\n            font-family: 'videogular';\n            position: relative;\n            display: flex;\n            width: 100%;\n            height: 100%;\n            overflow: hidden;\n            background-color: black;\n        }\n        vg-player.fullscreen {\n            position: fixed;\n            left: 0;\n            top: 0;\n        }\n        vg-player.native-fullscreen.controls-hidden {\n            cursor: none;\n        }\n    ` ],\n  providers: [VgAPI, VgFullscreenAPI, VgControlsHidden]\n})\n// tslint:disable:component-class-suffix\n // tslint:disable:no-output-on-prefix\nexport class VgPlayer implements AfterContentInit, OnDestroy {\n  elem: HTMLElement;\n\n  @HostBinding('class.fullscreen') isFullscreen = false;\n  @HostBinding('class.native-fullscreen') isNativeFullscreen = false;\n  @HostBinding('class.controls-hidden') areControlsHidden = false;\n  @HostBinding('style.z-index') zIndex: string;\n\n\n  @Output()\n  onPlayerReady: EventEmitter<any> = new EventEmitter();\n\n  @Output()\n  onMediaReady: EventEmitter<any> = new EventEmitter();\n\n  @ContentChildren(VgMedia)\n  medias: QueryList<VgMedia>;\n\n  subscriptions: Subscription[] = [];\n\n  constructor(ref: ElementRef, public api: VgAPI, public fsAPI: VgFullscreenAPI, private controlsHidden: VgControlsHidden) {\n    this.elem = ref.nativeElement;\n\n    this.api.registerElement(this.elem);\n  }\n\n  ngAfterContentInit() {\n    this.medias.toArray().forEach((media) => {\n      this.api.registerMedia(media);\n    });\n\n    this.fsAPI.init(this.elem, this.medias);\n\n    this.subscriptions.push(this.fsAPI.onChangeFullscreen.subscribe(this.onChangeFullscreen.bind(this)));\n    this.subscriptions.push(this.controlsHidden.isHidden.subscribe(this.onHideControls.bind(this)));\n\n    this.api.onPlayerReady(this.fsAPI);\n    this.onPlayerReady.emit(this.api);\n  }\n\n  onChangeFullscreen(fsState: boolean) {\n    if (!this.fsAPI.nativeFullscreen) {\n      this.isFullscreen = fsState;\n      this.zIndex = fsState ? VgUtils.getZIndex().toString() : 'auto';\n    } else {\n      this.isNativeFullscreen = fsState;\n    }\n  }\n\n  onHideControls(hidden: boolean) {\n    this.areControlsHidden = hidden;\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(s => s.unsubscribe());\n  }\n}\n","export interface IMediaElement {\n  /**\n   * Returns the id of the element.\n   */\n  id: string;\n  /**\n   * Returns the node name. Only available on native HTML tags.\n   */\n  readonly nodeName?: string;\n  /**\n   * Returns the node element. Only available on Angular classes.\n   */\n  readonly elem?: any;\n  /**\n   * Returns an AudioTrackList object with the audio tracks for a given video element.\n   */\n  readonly audioTracks: AudioTrackList;\n  /**\n   * Gets or sets a value that indicates whether to start playing the media automatically.\n   */\n  autoplay: boolean;\n  /**\n   * Gets a collection of buffered time ranges.\n   */\n  readonly buffered: TimeRanges;\n  /**\n   * Gets or sets a flag that indicates whether the client provides a set of controls for\n   * the media (in case the developer does not include controls for the player).\n   */\n  controls: boolean;\n  crossOrigin: string | null;\n  /**\n   * Gets the address or URL of the current media resource that is selected by IHTMLMediaElement.\n   */\n  readonly currentSrc: string;\n  /**\n   * Gets or sets the current playback position, in seconds.\n   */\n  currentTime: number;\n  defaultMuted: boolean;\n  /**\n   * Gets or sets the default playback rate when the user is not using fast forward or reverse for a video or audio resource.\n   */\n  defaultPlaybackRate: number;\n  /**\n   * Returns the duration in seconds of the current media resource. A NaN value is returned if duration\n   * is not available, or Infinity if the media resource is streaming.\n   */\n  readonly duration: number;\n  /**\n   * Gets information about whether the playback has ended or not.\n   */\n  readonly ended: boolean;\n  /**\n   * Returns an object representing the current error state of the audio or video element.\n   */\n  readonly error: MediaError;\n  /**\n   * Gets or sets a flag to specify whether playback should restart after it completes.\n   */\n  loop: boolean;\n  readonly mediaKeys: MediaKeys | null;\n  /**\n   * Specifies the purpose of the audio or video media, such as background audio or alerts.\n   */\n  msAudioCategory: string;\n  /**\n   * Specifies the output device id that the audio will be sent to.\n   */\n  msAudioDeviceType: string;\n  readonly msGraphicsTrustStatus: MSGraphicsTrust;\n  /**\n   * Gets the MSMediaKeys object, which is used for decrypting media data, that is associated with this media element.\n   */\n  readonly msKeys: MSMediaKeys;\n  /**\n   * Gets or sets whether the DLNA PlayTo device is available.\n   */\n  msPlayToDisabled: boolean;\n  /**\n   * Gets or sets the path to the preferred media source. This enables the Play To target device to\n   * stream the media content, which can be DRM protected, from a different location, such as a cloud media server.\n   */\n  msPlayToPreferredSourceUri: string;\n  /**\n   * Gets or sets the primary DLNA PlayTo device.\n   */\n  msPlayToPrimary: boolean;\n  /**\n   * Gets the source associated with the media element for use by the PlayToManager.\n   */\n  readonly msPlayToSource: any;\n  /**\n   * Specifies whether or not to enable low-latency playback on the media element.\n   */\n  msRealTime: boolean;\n  /**\n   * Gets or sets a flag that indicates whether the audio (either audio or the audio track on video media) is muted.\n   */\n  muted: boolean;\n  /**\n   * Gets the current network activity for the element.\n   */\n  readonly networkState: number;\n  onencrypted: (this: HTMLMediaElement, ev: MediaEncryptedEvent) => any;\n  onmsneedkey: (this: HTMLMediaElement, ev: MSMediaKeyNeededEvent) => any;\n  /**\n   * Gets a flag that specifies whether playback is paused.\n   */\n  readonly paused: boolean;\n  /**\n   * Gets or sets the current rate of speed for the media resource to play. This speed is\n   * expressed as a multiple of the normal speed of the media resource.\n   */\n  playbackRate: number;\n  /**\n   * Gets TimeRanges for the current media resource that has been played.\n   */\n  readonly played: TimeRanges;\n  /**\n   * Gets or sets the current playback position, in seconds.\n   */\n  preload: string;\n  readyState: number;\n  /**\n   * Returns a TimeRanges object that represents the ranges of the current media resource that can be seeked.\n   */\n  readonly seekable: TimeRanges;\n  /**\n   * Gets a flag that indicates whether the the client is currently moving to a new playback position in the media resource.\n   */\n  readonly seeking: boolean;\n  /**\n   * The address or URL of the a media resource that is to be considered.\n   */\n  src: string;\n  srcObject: MediaStream | null;\n  readonly textTracks: TextTrackList;\n  readonly videoTracks: VideoTrackList;\n  /**\n   * Gets or sets the volume level for audio portions of the media element.\n   */\n  volume: number;\n\n\n  readonly HAVE_CURRENT_DATA: number;\n  readonly HAVE_ENOUGH_DATA: number;\n  readonly HAVE_FUTURE_DATA: number;\n  readonly HAVE_METADATA: number;\n  readonly HAVE_NOTHING: number;\n  readonly NETWORK_EMPTY: number;\n  readonly NETWORK_IDLE: number;\n  readonly NETWORK_LOADING: number;\n  readonly NETWORK_NO_SOURCE: number;\n\n  addTextTrack(kind: string, label?: string, language?: string): TextTrack;\n  /**\n   * Returns a string that specifies whether the client can play a given media resource type.\n   */\n  canPlayType(type: string): string;\n  /**\n   * Resets the audio or video object and loads a new media resource.\n   */\n  load(): void;\n  /**\n   * Clears all effects from the media pipeline.\n   */\n  msClearEffects(): void;\n  msGetAsCastingSource(): any;\n  /**\n   * Inserts the specified audio effect into media pipeline.\n   */\n  msInsertAudioEffect(activatableClassId: string, effectRequired: boolean, config?: any): void;\n  msSetMediaKeys(mediaKeys: MSMediaKeys): void;\n  /**\n   * Specifies the media protection manager for a given media pipeline.\n   */\n  msSetMediaProtectionManager(mediaProtectionManager?: any): void;\n  /**\n   * Pauses the current playback and sets paused to TRUE. This can be used to test whether the media is\n   * playing or paused. You can also use the pause or play events to tell whether the media is playing or not.\n   */\n  pause(): void;\n  /**\n   * Loads and starts playback of a media resource.\n   */\n  play(): Promise<any>;\n  setMediaKeys(mediaKeys: MediaKeys | null): Promise<void>;\n\n  addEventListener(type: string, listener: EventListenerOrEventListenerObject, useCapture?: boolean): void;\n}\n","import { Observable, Subject } from 'rxjs';\n\nexport interface IPlayable {\n  id: string;\n  elem: any;\n  time: any;\n  buffer: any;\n  track?: any;\n  canPlay: boolean;\n  canPlayThrough: boolean;\n  isMetadataLoaded: boolean;\n  isWaiting: boolean;\n  isCompleted: boolean;\n  isLive: boolean;\n  textTracks: TextTrackList;\n  state: string;\n  subscriptions: IMediaSubscriptions;\n  duration: number;\n  currentTime: number;\n  play: () => any;\n  pause: () => any;\n  addTextTrack?: (type: string, label?: string, language?: string, mode?: 'disabled' | 'hidden' | 'showing') => TextTrack;\n  dispatchEvent?: () => any;\n}\n\nexport interface IMediaSubscriptions {\n  abort: Observable<any>;\n  bufferDetected: Subject<boolean>;\n  canPlay: Observable<any>;\n  canPlayThrough: Observable<any>;\n  durationChange: Observable<any>;\n  emptied: Observable<any>;\n  encrypted: Observable<any>;\n  ended: Observable<any>;\n  error: Observable<any>;\n  loadedData: Observable<any>;\n  loadedMetadata: Observable<any>;\n  loadStart: Observable<any>;\n  pause: Observable<any>;\n  play: Observable<any>;\n  playing: Observable<any>;\n  progress: Observable<any>;\n  rateChange: Observable<any>;\n  seeked: Observable<any>;\n  seeking: Observable<any>;\n  stalled: Observable<any>;\n  suspend: Observable<any>;\n  timeUpdate: Observable<any>;\n  volumeChange: Observable<any>;\n  waiting: Observable<any>;\n\n  // to observe the ads\n  startAds: Observable<any>;\n  endAds: Observable<any>;\n}\n","import { IMediaElement } from './i-media-element';\n\nexport class VgMediaElement implements IMediaElement {\n  id: string;\n  elem: any;\n  get audioTracks(): AudioTrackList { return null; }\n  autoplay: boolean;\n  buffered: TimeRanges;\n  controls: boolean;\n  crossOrigin: string | any;\n  currentSrc: string;\n  currentTime: number;\n  defaultMuted: boolean;\n  defaultPlaybackRate: number;\n  duration: number;\n  ended: boolean;\n  error: MediaError;\n  loop: boolean;\n  mediaKeys: MediaKeys | any;\n  msAudioCategory: string;\n  msAudioDeviceType: string;\n  msGraphicsTrustStatus: MSGraphicsTrust;\n  msKeys: MSMediaKeys;\n  msPlayToDisabled: boolean;\n  msPlayToPreferredSourceUri: string;\n  msPlayToPrimary: boolean;\n  msPlayToSource: any;\n  msRealTime: boolean;\n  muted: boolean;\n  networkState: number;\n  onencrypted: (ev: MediaEncryptedEvent) => any;\n  onmsneedkey: (ev: MSMediaKeyNeededEvent) => any;\n  paused: boolean;\n  playbackRate: number;\n  played: TimeRanges;\n  preload: string;\n  readyState: number;\n  seekable: TimeRanges;\n  seeking: boolean;\n  src: string;\n  srcObject: MediaStream | any;\n  textTracks: TextTrackList;\n  videoTracks: VideoTrackList;\n  volume: number;\n  HAVE_CURRENT_DATA: number;\n  HAVE_ENOUGH_DATA: number;\n  HAVE_FUTURE_DATA: number;\n  HAVE_METADATA: number;\n  HAVE_NOTHING: number;\n  NETWORK_EMPTY: number;\n  NETWORK_IDLE: number;\n  NETWORK_LOADING: number;\n  NETWORK_NO_SOURCE: number;\n  // @ts-ignore\n  addTextTrack(kind: string, label?: string, language?: string): TextTrack {\n    return null;\n  }\n  // @ts-ignore\n  canPlayType(type: string): string {\n    return null;\n  }\n\n  load(): void {\n  }\n\n  msClearEffects(): void {\n  }\n\n  msGetAsCastingSource(): any {\n    return null;\n  }\n  // @ts-ignore\n  msInsertAudioEffect(activatableClassId: string, effectRequired: boolean, config?: any): void {\n  }\n  // @ts-ignore\n  msSetMediaKeys(mediaKeys: MSMediaKeys): void {\n  }\n  // @ts-ignore\n  msSetMediaProtectionManager(mediaProtectionManager?: any): void {\n  }\n\n  pause(): void {\n  }\n\n  play(): Promise<any> {\n    return null;\n  }\n  // @ts-ignore\n  setMediaKeys(mediaKeys: MediaKeys | any): Promise<void> {\n    return null;\n  }\n  // @ts-ignore\n  addEventListener(type: string, listener: EventListenerOrEventListenerObject, useCapture?: boolean): void {\n  }\n}\n","import { VgMediaElement } from './vg-media/vg-media-element';\nimport { NgModule } from '@angular/core';\nimport { VgControlsHidden } from './services/vg-controls-hidden';\nimport { VgFullscreenAPI } from './services/vg-fullscreen-api';\nimport { VgUtils } from './services/vg-utils';\nimport { VgAPI } from './services/vg-api';\nimport { VgMedia } from './vg-media/vg-media';\nimport { VgCuePoints } from './vg-cue-points/vg-cue-points';\nimport { VgPlayer } from './vg-player/vg-player';\nimport { VgStates } from './states/vg-states';\nimport { VgEvents } from './events/vg-events';\n\n\nexport * from './vg-media/i-media-element';\nexport * from './vg-media/i-playable';\nexport * from './vg-media/vg-media-element';\nexport * from './services/vg-api';\nexport * from './services/vg-fullscreen-api';\nexport * from './services/vg-utils';\nexport * from './services/vg-controls-hidden';\nexport * from './events/vg-events';\nexport * from './states/vg-states';\n\n\n\nexport interface BitrateOption {\n  qualityIndex: number;\n  width: number;\n  height: number;\n  bitrate: number;\n  mediaType: string;\n  label?: string;\n}\n\n\n\n@NgModule({\n  declarations: [VgMedia, VgCuePoints, VgPlayer],\n  exports: [VgMedia, VgCuePoints, VgPlayer],\n  providers: [VgAPI, VgFullscreenAPI, VgUtils, VgControlsHidden, VgStates, VgEvents]\n})\nexport class VgCoreModule { }\n","// tslint:disable-next-line:no-reference\n///<reference path='./google.ima.ts'/>\nimport { Component, ElementRef, Input, HostBinding, ViewEncapsulation, OnInit, OnDestroy, Output, EventEmitter } from '@angular/core';\nimport { IPlayable } from '../core/vg-media/i-playable';\nimport { VgAPI } from '../core/services/vg-api';\nimport { VgEvents } from '../core/events/vg-events';\nimport { VgFullscreenAPI } from '../core/services/vg-fullscreen-api';\nimport { Subscription } from 'rxjs';\n\n\n // tslint:disable:no-output-on-prefix\n// tslint:disable:ban-types\n// tslint:disable:component-class-suffix\n@Component({\n  selector: 'vg-ima-ads',\n  encapsulation: ViewEncapsulation.None,\n  template: `<div class=\"vg-ima-ads\"></div>`,\n  styles: [`\n        vg-ima-ads {\n            position: absolute;\n            width: 100%;\n            height: 100%;\n            z-index: 300;\n        }\n        vg-ima-ads .vg-ima-ads {\n            position: absolute;\n            width: 100%;\n            height: 100%;\n            pointer-events: none;\n        }\n    ` ]\n})\n\nexport class VgImaAds implements OnInit, OnDestroy {\n  @Input() vgFor: string;\n  @Input() vgNetwork: string;\n  @Input() vgUnitPath: string;\n  @Input() vgCompanion: string;\n\n  @Input() vgCompanionSize: Array<Number>;\n  @Input() vgAdTagUrl: string;\n  @Input() vgSkipButton: string;\n\n\n  @Output() onAdStart: EventEmitter<boolean> = new EventEmitter();\n  @Output() onAdStop: EventEmitter<boolean> = new EventEmitter();\n  @Output() onSkipAd: EventEmitter<boolean> = new EventEmitter();\n\n  elem: HTMLElement;\n  target: IPlayable;\n  ima: Ima;\n  isFullscreen = false;\n  skipButton: HTMLElement;\n\n  subscriptions: Subscription[] = [];\n\n  @HostBinding('style.display') displayState = 'none';\n\n  constructor(ref: ElementRef, public API: VgAPI, public fsAPI: VgFullscreenAPI) {\n    this.elem = ref.nativeElement;\n    this.onContentEnded = this.onContentEnded.bind(this);\n  }\n\n  ngOnInit() {\n    if (this.API.isPlayerReady) {\n      this.onPlayerReady();\n    } else {\n      this.subscriptions.push(this.API.playerReadyEvent.subscribe(() => this.onPlayerReady()));\n    }\n  }\n\n  onPlayerReady() {\n    if (typeof google === 'undefined') {\n      this.onMissingGoogleImaLoader();\n      return;\n    }\n\n    this.target = this.API.getMediaById(this.vgFor);\n\n    this.initializations();\n\n    this.subscriptions.push(this.target.subscriptions.ended.subscribe(this.onContentEnded.bind(this)));\n    this.subscriptions.push(this.target.subscriptions.play.subscribe(this.onUpdateState.bind(this)));\n\n    this.subscriptions.push(this.fsAPI.onChangeFullscreen.subscribe(this.onChangeFullscreen.bind(this)));\n\n    this.ima.adsLoader.addEventListener(\n      google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,\n      this.onAdsManagerLoaded.bind(this),\n      false\n    );\n    this.ima.adsLoader.addEventListener(\n      google.ima.AdErrorEvent.Type.AD_ERROR,\n      this.onAdError.bind(this),\n      false\n    );\n\n    this.loadAds();\n  }\n\n  initializations() {\n    this.ima = new Ima(this.elem);\n\n    if (this.vgSkipButton) {\n      this.skipButton = document.querySelector(this.vgSkipButton) as HTMLElement;\n      this.skipButton.style.display = 'none';\n      this.skipButton.addEventListener('click', this.onClickSkip.bind(this));\n      this.elem.insertBefore(this.skipButton, this.elem.firstChild);\n    }\n\n    window.addEventListener('resize', () => {\n      const w = this.API.videogularElement.offsetWidth;\n      const h = this.API.videogularElement.offsetHeight;\n\n      if (this.ima.adsManager) {\n        if (this.isFullscreen) {\n          this.ima.adsManager.resize(w, h, google.ima.ViewMode.FULLSCREEN);\n        } else {\n          this.ima.adsManager.resize(w, h, google.ima.ViewMode.NORMAL);\n        }\n      }\n    });\n  }\n\n  loadAds() {\n    if (this.vgCompanion) {\n      googletag.cmd.push(\n        () => {\n          const adUnitPath: string = '/' + this.vgNetwork + '/' + this.vgUnitPath;\n          const slot: googletag.Slot = googletag.defineSlot(adUnitPath, this.vgCompanionSize, this.vgCompanion);\n\n          if (slot) {\n            slot.addService(googletag.companionAds());\n            slot.addService(googletag.pubads());\n\n            googletag\n              .companionAds()\n              .setRefreshUnfilledSlots(true);\n\n            googletag\n              .pubads()\n              .enableVideoAds();\n\n            googletag.enableServices();\n          }\n        }\n      );\n    }\n  }\n\n  onUpdateState(event: any) {\n    switch (event.type) {\n      case VgEvents.VG_PLAY:\n        if (!this.ima.adsLoaded) {\n          this.API.pause();\n          this.ima.adDisplayContainer.initialize();\n          this.requestAds(this.vgAdTagUrl);\n          this.ima.adsLoaded = true;\n        }\n        break;\n    }\n  }\n\n  requestAds(adTagUrl: string) {\n    // Show only to get computed style in pixels\n    this.show();\n\n    const adsRequest = new google.ima.AdsRequest();\n    const computedStyle = window.getComputedStyle(this.elem);\n    adsRequest.adTagUrl = adTagUrl;\n\n    adsRequest.linearAdSlotWidth = parseInt(computedStyle.width, 10);\n    adsRequest.linearAdSlotHeight = parseInt(computedStyle.height, 10);\n    adsRequest.nonLinearAdSlotWidth = parseInt(computedStyle.width, 10);\n    adsRequest.nonLinearAdSlotHeight = parseInt(computedStyle.height, 10);\n\n    this.ima.adsLoader.requestAds(adsRequest);\n  }\n\n  onAdsManagerLoaded(evt: google.ima.AdsManagerLoadedEvent) {\n    this.show();\n    this.ima.adsManager = evt.getAdsManager(this.target);\n    this.processAdsManager(this.ima.adsManager);\n  }\n  // @ts-ignore\n  processAdsManager(adsManager: google.ima.AdsManager) {\n    const w = this.API.videogularElement.offsetWidth;\n    const h = this.API.videogularElement.offsetHeight;\n\n    // Attach the pause/resume events.\n    this.ima.adsManager.addEventListener(\n      google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,\n      this.onContentPauseRequested.bind(this),\n      false\n    );\n    this.ima.adsManager.addEventListener(\n      google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,\n      this.onContentResumeRequested.bind(this),\n      false\n    );\n    this.ima.adsManager.addEventListener(\n      google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,\n      this.onSkippableStateChanged.bind(this),\n      false\n    );\n    this.ima.adsManager.addEventListener(\n      google.ima.AdEvent.Type.ALL_ADS_COMPLETED,\n      this.onAllAdsComplete.bind(this),\n      false\n    );\n    this.ima.adsManager.addEventListener(\n      google.ima.AdEvent.Type.COMPLETE,\n      this.onAdComplete.bind(this),\n      false\n    );\n    this.ima.adsManager.addEventListener(\n      google.ima.AdErrorEvent.Type.AD_ERROR,\n      this.onAdError.bind(this),\n      false\n    );\n\n    this.ima.adsManager.init(w, h, google.ima.ViewMode.NORMAL);\n    this.ima.adsManager.start();\n  }\n\n  onSkippableStateChanged() {\n    const isSkippable = this.ima.adsManager.getAdSkippableState();\n\n    if (isSkippable) {\n      this.skipButton.style.display = 'block';\n    } else {\n      this.skipButton.style.display = 'none';\n    }\n  }\n\n  onClickSkip() {\n    this.ima.adsManager.skip();\n    this.onSkipAd.emit(true);\n  }\n\n  onContentPauseRequested() {\n    this.show();\n    this.API.pause();\n    this.onAdStop.emit(true);\n  }\n\n  onContentResumeRequested() {\n    this.API.play();\n    this.onAdStart.emit(true);\n    this.hide();\n  }\n  // @ts-ignore\n  onAdError(evt) {\n    if (this.ima.adsManager) {\n      this.ima.adsManager.destroy();\n    }\n    this.hide();\n    this.API.play();\n    this.onAdStop.emit(true);\n  }\n\n  onAllAdsComplete() {\n    this.hide();\n    // The last ad was a post-roll\n    if (this.ima.adsManager.getCuePoints().join().indexOf('-1') >= 0) {\n      this.API.pause(); // it was stop() in Videogular v1\n      this.onAdStop.emit(true);\n    }\n  }\n\n  onAdComplete() {\n    // TODO: Update view with current ad count\n    this.ima.currentAd++;\n    this.onAdStop.emit(true);\n  }\n\n  show() {\n    window.dispatchEvent(new CustomEvent(VgEvents.VG_START_ADS));\n    this.displayState = 'block';\n  }\n\n  hide() {\n    window.dispatchEvent(new CustomEvent(VgEvents.VG_END_ADS));\n    this.displayState = 'none';\n  }\n\n  onContentEnded() {\n    this.ima.adsLoader.contentComplete();\n    this.onAdStop.emit(true);\n  }\n\n  onChangeFullscreen(fsState: boolean) {\n    if (!this.fsAPI.nativeFullscreen) {\n      this.isFullscreen = fsState;\n    }\n  }\n\n  private onMissingGoogleImaLoader() {\n    this.hide();\n    this.API.play();\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(s => s.unsubscribe());\n  }\n}\n\n\nexport class Ima {\n  adDisplayContainer: google.ima.AdDisplayContainer;\n  adsLoader: google.ima.AdsLoader;\n  adsManager: google.ima.AdsManager;\n  adsLoaded: boolean;\n  currentAd: number;\n\n  constructor(imaAdsElement: HTMLElement) {\n    this.adDisplayContainer = new google.ima.AdDisplayContainer(imaAdsElement);\n    this.adsLoader = new google.ima.AdsLoader(this.adDisplayContainer);\n\n    this.adsManager = null;\n    this.adsLoaded = false;\n    this.currentAd = 0;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { VgImaAds } from './vg-ima-ads';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [\n    VgImaAds\n  ],\n  exports: [\n    VgImaAds\n  ]\n})\nexport class VgImaAdsModule { }\n","import {\n  Component, OnInit, Input, ElementRef, HostListener, ViewEncapsulation, OnDestroy,\n  HostBinding\n} from '@angular/core';\nimport { VgAPI } from '../core/services/vg-api';\nimport { VgStates } from '../core/states/vg-states';\nimport { Subscription } from 'rxjs';\nimport { VgFullscreenAPI } from '../core/services/vg-fullscreen-api';\nimport { VgControlsHidden } from '../core/services/vg-controls-hidden';\n\n@Component({\n  selector: 'vg-overlay-play',\n  encapsulation: ViewEncapsulation.None,\n  template: `<div class=\"vg-overlay-play\"\n                    [class.native-fullscreen]=\"isNativeFullscreen\"\n                    [class.controls-hidden]=\"areControlsHidden\">\n                   <div class=\"overlay-play-container\"\n                        [class.vg-icon-play_arrow]=\"getState() !== 'playing'\">\n                   </div>\n               </div>`,\n  styles: [`\n        vg-overlay-play {\n            z-index: 200;\n        }\n        vg-overlay-play.is-buffering {\n            display: none;\n        }\n        vg-overlay-play .vg-overlay-play {\n            transition: all 0.5s;\n            cursor: pointer;\n            position: absolute;\n            display: block;\n            color: white;\n            width: 100%;\n            height: 100%;\n            font-size: 80px;\n            filter: alpha(opacity=60);\n            opacity: 0.6;\n        }\n        vg-overlay-play .vg-overlay-play.native-fullscreen.controls-hidden {\n            cursor: none;\n        }\n        vg-overlay-play .vg-overlay-play .overlay-play-container.vg-icon-play_arrow {\n            pointer-events: none;\n            width: 100%;\n            height: 100%;\n            position: absolute;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-size: 80px;\n        }\n        vg-overlay-play .vg-overlay-play:hover {\n            filter: alpha(opacity=100);\n            opacity: 1;\n        }\n        vg-overlay-play .vg-overlay-play:hover .overlay-play-container.vg-icon-play_arrow:before {\n            transform: scale(1.2);\n        }\n    ` ]\n})\n// tslint:disable:component-class-suffix\nexport class VgOverlayPlay implements OnInit, OnDestroy {\n  @Input() vgFor: string;\n  elem: HTMLElement;\n  target: any;\n\n  isNativeFullscreen = false;\n  areControlsHidden = false;\n\n  subscriptions: Subscription[] = [];\n\n  @HostBinding('class.is-buffering') isBuffering = false;\n\n  constructor(ref: ElementRef, public API: VgAPI, public fsAPI: VgFullscreenAPI, private controlsHidden: VgControlsHidden) {\n    this.elem = ref.nativeElement;\n  }\n\n  ngOnInit() {\n    if (this.API.isPlayerReady) {\n      this.onPlayerReady();\n    } else {\n      this.subscriptions.push(this.API.playerReadyEvent.subscribe(() => this.onPlayerReady()));\n    }\n  }\n\n  onPlayerReady() {\n    this.target = this.API.getMediaById(this.vgFor);\n    this.subscriptions.push(this.fsAPI.onChangeFullscreen.subscribe(this.onChangeFullscreen.bind(this)));\n    this.subscriptions.push(this.controlsHidden.isHidden.subscribe(this.onHideControls.bind(this)));\n    this.subscriptions.push(\n      this.target.subscriptions.bufferDetected.subscribe(\n        isBuffering => this.onUpdateBuffer(isBuffering)\n      )\n    );\n  }\n\n  onUpdateBuffer(isBuffering) {\n    this.isBuffering = isBuffering;\n  }\n\n  onChangeFullscreen(fsState: boolean) {\n    if (this.fsAPI.nativeFullscreen) {\n      this.isNativeFullscreen = fsState;\n    }\n  }\n\n  onHideControls(hidden: boolean) {\n    this.areControlsHidden = hidden;\n  }\n\n  @HostListener('click')\n  onClick() {\n    const state = this.getState();\n\n    switch (state) {\n      case VgStates.VG_PLAYING:\n        this.target.pause();\n        break;\n\n      case VgStates.VG_PAUSED:\n      case VgStates.VG_ENDED:\n        this.target.play();\n        break;\n    }\n  }\n\n  getState() {\n    let state = VgStates.VG_PAUSED;\n\n    if (this.target) {\n      if (this.target.state instanceof Array) {\n        for (let i = 0, l = this.target.state.length; i < l; i++) {\n          if (this.target.state[i] === VgStates.VG_PLAYING) {\n            state = VgStates.VG_PLAYING;\n            break;\n          }\n        }\n      } else {\n        state = this.target.state;\n      }\n    }\n\n    return state;\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(s => s.unsubscribe());\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { VgOverlayPlay } from './vg-overlay-play';\n\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [\n    VgOverlayPlay\n  ],\n  exports: [\n    VgOverlayPlay\n  ]\n})\nexport class VgOverlayPlayModule { }\n","import {\n  Directive,\n  ElementRef,\n  Input,\n  SimpleChanges,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  EventEmitter\n} from '@angular/core';\nimport { VgAPI } from '../../core/services/vg-api';\nimport { Subscription } from 'rxjs';\nimport { IDRMLicenseServer } from '../vg-streaming.module';\nimport { BitrateOption } from '../../core/vg-core.module';\n\ndeclare let dashjs;\n\n@Directive({\n  selector: '[vgDash]',\n  exportAs: 'vgDash'\n})\n// tslint:disable:directive-class-suffix\n // tslint:disable:no-output-on-prefix\n // tslint:disable:no-string-literal\nexport class VgDASH implements OnInit, OnChanges, OnDestroy {\n  @Input() vgDash: string;\n  @Input() vgDRMToken: string;\n  @Input() vgDRMLicenseServer: IDRMLicenseServer;\n\n\n  @Output() onGetBitrates: EventEmitter<BitrateOption[]> = new EventEmitter();\n\n  vgFor: string;\n  target: any;\n  dash: any;\n\n  subscriptions: Subscription[] = [];\n\n  constructor(private ref: ElementRef, public API: VgAPI) { }\n\n  ngOnInit() {\n    if (this.API.isPlayerReady) {\n      this.onPlayerReady();\n    } else {\n      this.subscriptions.push(this.API.playerReadyEvent.subscribe(() => this.onPlayerReady()));\n    }\n  }\n\n  onPlayerReady() {\n    this.vgFor = this.ref.nativeElement.getAttribute('vgFor');\n    this.target = this.API.getMediaById(this.vgFor);\n    this.createPlayer();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n\n    if (changes['vgDash'] && changes['vgDash'].currentValue) {\n      this.createPlayer();\n    } else {\n      this.destroyPlayer();\n    }\n  }\n\n  createPlayer() {\n    if (this.dash) {\n      this.destroyPlayer();\n    }\n\n    // It's a DASH source\n    if (this.vgDash && (\n      (this.vgDash.indexOf('.mpd') > -1) ||\n      (this.vgDash.indexOf('mpd-time-csf') > -1))\n    ) {\n      let drmOptions;\n\n      if (this.vgDRMLicenseServer) {\n        drmOptions = this.vgDRMLicenseServer;\n\n        if (this.vgDRMToken) {\n          for (const drmServer in drmOptions) {\n            if (drmServer.hasOwnProperty(drmServer)) {\n              drmOptions[drmServer].httpRequestHeaders = { Authorization: this.vgDRMToken };\n            }\n          }\n        }\n      }\n\n      this.dash = dashjs.MediaPlayer().create();\n      this.dash.getDebug().setLogToBrowserConsole(false);\n      this.dash.initialize(this.ref.nativeElement);\n      this.dash.setAutoPlay(false);\n\n      this.dash.on(dashjs.MediaPlayer.events.STREAM_INITIALIZED, () => {\n        const audioList = this.dash.getBitrateInfoListFor('audio');\n        const videoList = this.dash.getBitrateInfoListFor('video');\n\n        if (audioList.length > 1) {\n          audioList.forEach(item => item.qualityIndex = ++item.qualityIndex);\n          audioList.unshift({\n            qualityIndex: 0,\n            width: 0,\n            height: 0,\n            bitrate: 0,\n            mediaType: 'video',\n            label: 'AUTO'\n          });\n\n          this.onGetBitrates.emit(audioList);\n        }\n\n        if (videoList.length > 1) {\n          videoList.forEach(item => item.qualityIndex = ++item.qualityIndex);\n          videoList.unshift({\n            qualityIndex: 0,\n            width: 0,\n            height: 0,\n            bitrate: 0,\n            mediaType: 'video',\n            label: 'AUTO'\n          });\n\n          this.onGetBitrates.emit(videoList);\n        }\n      });\n\n      if (drmOptions) {\n        this.dash.setProtectionData(drmOptions);\n      }\n\n      this.dash.attachSource(this.vgDash);\n    } else {\n      if (this.target) {\n        this.target.pause();\n        this.target.seekTime(0);\n        this.ref.nativeElement.src = this.vgDash;\n      }\n    }\n  }\n\n  setBitrate(bitrate: BitrateOption) {\n    if (this.dash) {\n      if (bitrate.qualityIndex > 0) {\n        if (this.dash.getAutoSwitchQualityFor(bitrate.mediaType)) {\n          this.dash.setAutoSwitchQualityFor(bitrate.mediaType, false);\n        }\n\n        const nextIndex = bitrate.qualityIndex - 1;\n        this.dash.setQualityFor(bitrate.mediaType, nextIndex);\n      } else {\n        this.dash.setAutoSwitchQualityFor(bitrate.mediaType, true);\n      }\n    }\n  }\n\n  destroyPlayer() {\n    if (this.dash) {\n      this.dash.reset();\n      this.dash = null;\n    }\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(s => s.unsubscribe());\n    this.destroyPlayer();\n  }\n}\n","import {\n  Directive,\n  ElementRef,\n  Input,\n  SimpleChanges,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  EventEmitter\n} from '@angular/core';\nimport { VgAPI } from '../../core/services/vg-api';\nimport { IHLSConfig } from './hls-config';\nimport { Subscription } from 'rxjs';\nimport { BitrateOption } from '../../core/vg-core.module';\n\ndeclare let Hls;\n\n@Directive({\n  selector: '[vgHls]',\n  exportAs: 'vgHls'\n})\n// tslint:disable:no-string-literal\n// tslint:disable:directive-class-suffix\n// tslint:disable:no-output-on-prefix\nexport class VgHLS implements OnInit, OnChanges, OnDestroy {\n  @Input() vgHls: string;\n  @Input() vgHlsHeaders: { [key: string]: string } = {};\n  @Output() onGetBitrates: EventEmitter<BitrateOption[]> = new EventEmitter();\n\n  vgFor: string;\n  target: any;\n  hls: any;\n  preload: boolean;\n  crossorigin: string;\n  config: IHLSConfig;\n\n  subscriptions: Subscription[] = [];\n\n  constructor(private ref: ElementRef, public API: VgAPI) { }\n\n  ngOnInit() {\n    if (this.API.isPlayerReady) {\n      this.onPlayerReady();\n    } else {\n      this.subscriptions.push(this.API.playerReadyEvent.subscribe(() => this.onPlayerReady()));\n    }\n  }\n\n  onPlayerReady() {\n    this.crossorigin = this.ref.nativeElement.getAttribute('crossorigin');\n    this.preload = this.ref.nativeElement.getAttribute('preload') !== 'none';\n    this.vgFor = this.ref.nativeElement.getAttribute('vgFor');\n\n    if (this.vgFor) {\n      this.target = this.API.getMediaById(this.vgFor);\n    } else {\n      this.target = this.API.getDefaultMedia();\n    }\n\n\n    this.config = {\n      autoStartLoad: this.preload\n    } as IHLSConfig;\n    // @ts-ignore\n    this.config.xhrSetup = (xhr, url) => {\n      // Send cookies\n      if (this.crossorigin === 'use-credentials') {\n        xhr.withCredentials = true;\n      }\n      for (const key of Object.keys(this.vgHlsHeaders)) {\n        xhr.setRequestHeader(key, this.vgHlsHeaders[key]);\n      }\n    };\n\n    this.createPlayer();\n\n    if (!this.preload) {\n      this.subscriptions.push(\n        this.API.subscriptions.play.subscribe(\n          () => {\n            if (this.hls) {\n              this.hls.startLoad(0);\n            }\n          }\n        )\n      );\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n\n    if (changes['vgHls'] && changes['vgHls'].currentValue) {\n      this.createPlayer();\n    } else if (changes['vgHlsHeaders'] && changes['vgHlsHeaders'].currentValue) {\n      // Do nothing. We don't want to create a or destroy a player if the headers change.\n    } else {\n      this.destroyPlayer();\n    }\n  }\n\n  createPlayer() {\n    if (this.hls) {\n      this.destroyPlayer();\n    }\n\n    // It's a HLS source\n    if (this.vgHls && this.vgHls.indexOf('m3u8') > -1 && Hls.isSupported() && this.API.isPlayerReady) {\n      const video: HTMLVideoElement = this.ref.nativeElement;\n\n      this.hls = new Hls(this.config);\n      // @ts-ignore\n      this.hls.on(Hls.Events.MANIFEST_PARSED, (event, data) => {\n        const videoList = [];\n\n        videoList.push({\n          qualityIndex: 0,\n          width: 0,\n          height: 0,\n          bitrate: 0,\n          mediaType: 'video',\n          label: 'AUTO'\n        });\n\n        data.levels.forEach((item, index) => {\n          videoList.push({\n            qualityIndex: ++index,\n            width: item.width,\n            height: item.height,\n            bitrate: item.bitrate,\n            mediaType: 'video',\n            label: item.name\n          });\n        });\n\n        this.onGetBitrates.emit(videoList);\n      }\n      );\n      // @ts-ignore\n      this.hls.on(Hls.Events.LEVEL_LOADED, (event, data) => {\n        this.target.isLive = data.details.live;\n      }\n      );\n\n      this.hls.loadSource(this.vgHls);\n      this.hls.attachMedia(video);\n    } else {\n      if (this.target && !!this.target.pause) {\n        this.target.pause();\n        this.target.seekTime(0);\n        this.ref.nativeElement.src = this.vgHls;\n      }\n    }\n  }\n\n  setBitrate(bitrate: BitrateOption) {\n    if (this.hls) {\n      this.hls.nextLevel = bitrate.qualityIndex - 1;\n    }\n  }\n\n  destroyPlayer() {\n    if (this.hls) {\n      this.hls.destroy();\n      this.hls = null;\n    }\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(s => s.unsubscribe());\n    this.destroyPlayer();\n    delete this.hls;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { VgDASH } from './vg-dash/vg-dash';\nimport { VgHLS } from './vg-hls/vg-hls';\n\nexport interface IDRMLicenseServer {\n  [index: string]: {\n    serverURL: string;\n  };\n}\n\n\nexport * from './vg-dash/vg-dash';\nexport * from './vg-hls/vg-hls';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [\n    VgDASH, VgHLS\n  ],\n  exports: [\n    VgDASH, VgHLS\n  ]\n})\nexport class VgStreamingModule { }\n"],"names":["Injectable","EventEmitter","Component","ViewEncapsulation","ElementRef","Input","HostBinding","NgModule","CommonModule","Subject","fromEvent","HostListener","ViewChild","Pipe","Output","Observable","combineLatest","map","timer","Directive","ChangeDetectorRef","ContentChildren","tslib_1.__values"],"mappings":"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"}